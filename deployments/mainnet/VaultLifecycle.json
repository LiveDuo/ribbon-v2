{
  "address": "0xC1e51bA212C8b3fAdA5B5D3973d7c46d2b8181dF",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "currentSupply",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "asset",
          "type": "address"
        },
        {
          "internalType": "uint8",
          "name": "decimals",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "pendingAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint128",
          "name": "queuedWithdrawShares",
          "type": "uint128"
        }
      ],
      "name": "rollover",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "newLockedAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "newPricePerShare",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "mintShares",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "keeper",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "feeRecipient",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "performanceFee",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "tokenName",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "tokenSymbol",
          "type": "string"
        },
        {
          "components": [
            {
              "internalType": "bool",
              "name": "isPut",
              "type": "bool"
            },
            {
              "internalType": "uint8",
              "name": "decimals",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "asset",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "underlying",
              "type": "address"
            },
            {
              "internalType": "uint56",
              "name": "minimumSupply",
              "type": "uint56"
            },
            {
              "internalType": "uint104",
              "name": "cap",
              "type": "uint104"
            }
          ],
          "internalType": "struct Vault.VaultParams",
          "name": "_vaultParams",
          "type": "tuple"
        }
      ],
      "name": "verifyConstructorParams",
      "outputs": [],
      "stateMutability": "pure",
      "type": "function"
    }
  ],
  "transactionHash": "0xc3b7684cf1cf2f37762d98537058b07776c4844bbab96b8bedee331b05a94a50",
  "receipt": {
    "to": null,
    "from": "0x691c87dc570563D1D0AD7Fd0bb099ED367858863",
    "contractAddress": "0xC1e51bA212C8b3fAdA5B5D3973d7c46d2b8181dF",
    "transactionIndex": 34,
    "gasUsed": "3482128",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xc8470bd7d4d52aaee8501b18c9eb0dea4a4c3a673dcc4c3027c9d25e2df7b66a",
    "transactionHash": "0xc3b7684cf1cf2f37762d98537058b07776c4844bbab96b8bedee331b05a94a50",
    "logs": [],
    "blockNumber": 13095144,
    "cumulativeGasUsed": "6126152",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "solcInputHash": "147966a893818cd89d0844e982d4efb4",
  "metadata": "{\"compiler\":{\"version\":\"0.7.3+commit.9bfce1f6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"currentSupply\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"uint8\",\"name\":\"decimals\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"pendingAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint128\",\"name\":\"queuedWithdrawShares\",\"type\":\"uint128\"}],\"name\":\"rollover\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"newLockedAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"newPricePerShare\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"mintShares\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"keeper\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"feeRecipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"performanceFee\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"tokenName\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"tokenSymbol\",\"type\":\"string\"},{\"components\":[{\"internalType\":\"bool\",\"name\":\"isPut\",\"type\":\"bool\"},{\"internalType\":\"uint8\",\"name\":\"decimals\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"underlying\",\"type\":\"address\"},{\"internalType\":\"uint56\",\"name\":\"minimumSupply\",\"type\":\"uint56\"},{\"internalType\":\"uint104\",\"name\":\"cap\",\"type\":\"uint104\"}],\"internalType\":\"struct Vault.VaultParams\",\"name\":\"_vaultParams\",\"type\":\"tuple\"}],\"name\":\"verifyConstructorParams\",\"outputs\":[],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"burnOtokens(address,uint256)\":{\"notice\":\"Burn the remaining oTokens left over from auction. Currently this implementation is simple. It burns oTokens from the most recent vault opened by the contract. This assumes that the contract will only have a single vault open at any given time.\"},\"settleLong(address,address,address)\":{\"notice\":\"Exercises the ITM option using existing long otoken position. Currently this implementation is simple. It calls the `Redeem` action to claim the payout.\"},\"settleShort(address)\":{\"notice\":\"Close the existing short otoken position. Currently this implementation is simple. It closes the most recent vault opened by the contract. This assumes that the contract will only have a single vault open at any given time. Since calling `closeShort` deletes vaults, this assumption should hold.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/libraries/VaultLifecycle.sol\":\"VaultLifecycle\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/math/SafeMath.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity >=0.6.0 <0.8.0;\\n\\n/**\\n * @dev Wrappers over Solidity's arithmetic operations with added overflow\\n * checks.\\n *\\n * Arithmetic operations in Solidity wrap on overflow. This can easily result\\n * in bugs, because programmers usually assume that an overflow raises an\\n * error, which is the standard behavior in high level programming languages.\\n * `SafeMath` restores this intuition by reverting the transaction when an\\n * operation overflows.\\n *\\n * Using this library instead of the unchecked operations eliminates an entire\\n * class of bugs, so it's recommended to use it always.\\n */\\nlibrary SafeMath {\\n    /**\\n     * @dev Returns the addition of two unsigned integers, with an overflow flag.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function tryAdd(uint256 a, uint256 b) internal pure returns (bool, uint256) {\\n        uint256 c = a + b;\\n        if (c < a) return (false, 0);\\n        return (true, c);\\n    }\\n\\n    /**\\n     * @dev Returns the substraction of two unsigned integers, with an overflow flag.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function trySub(uint256 a, uint256 b) internal pure returns (bool, uint256) {\\n        if (b > a) return (false, 0);\\n        return (true, a - b);\\n    }\\n\\n    /**\\n     * @dev Returns the multiplication of two unsigned integers, with an overflow flag.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function tryMul(uint256 a, uint256 b) internal pure returns (bool, uint256) {\\n        // Gas optimization: this is cheaper than requiring 'a' not being zero, but the\\n        // benefit is lost if 'b' is also tested.\\n        // See: https://github.com/OpenZeppelin/openzeppelin-contracts/pull/522\\n        if (a == 0) return (true, 0);\\n        uint256 c = a * b;\\n        if (c / a != b) return (false, 0);\\n        return (true, c);\\n    }\\n\\n    /**\\n     * @dev Returns the division of two unsigned integers, with a division by zero flag.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function tryDiv(uint256 a, uint256 b) internal pure returns (bool, uint256) {\\n        if (b == 0) return (false, 0);\\n        return (true, a / b);\\n    }\\n\\n    /**\\n     * @dev Returns the remainder of dividing two unsigned integers, with a division by zero flag.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function tryMod(uint256 a, uint256 b) internal pure returns (bool, uint256) {\\n        if (b == 0) return (false, 0);\\n        return (true, a % b);\\n    }\\n\\n    /**\\n     * @dev Returns the addition of two unsigned integers, reverting on\\n     * overflow.\\n     *\\n     * Counterpart to Solidity's `+` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - Addition cannot overflow.\\n     */\\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\\n        uint256 c = a + b;\\n        require(c >= a, \\\"SafeMath: addition overflow\\\");\\n        return c;\\n    }\\n\\n    /**\\n     * @dev Returns the subtraction of two unsigned integers, reverting on\\n     * overflow (when the result is negative).\\n     *\\n     * Counterpart to Solidity's `-` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - Subtraction cannot overflow.\\n     */\\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\\n        require(b <= a, \\\"SafeMath: subtraction overflow\\\");\\n        return a - b;\\n    }\\n\\n    /**\\n     * @dev Returns the multiplication of two unsigned integers, reverting on\\n     * overflow.\\n     *\\n     * Counterpart to Solidity's `*` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - Multiplication cannot overflow.\\n     */\\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\\n        if (a == 0) return 0;\\n        uint256 c = a * b;\\n        require(c / a == b, \\\"SafeMath: multiplication overflow\\\");\\n        return c;\\n    }\\n\\n    /**\\n     * @dev Returns the integer division of two unsigned integers, reverting on\\n     * division by zero. The result is rounded towards zero.\\n     *\\n     * Counterpart to Solidity's `/` operator. Note: this function uses a\\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\\n     * uses an invalid opcode to revert (consuming all remaining gas).\\n     *\\n     * Requirements:\\n     *\\n     * - The divisor cannot be zero.\\n     */\\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\\n        require(b > 0, \\\"SafeMath: division by zero\\\");\\n        return a / b;\\n    }\\n\\n    /**\\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\\n     * reverting when dividing by zero.\\n     *\\n     * Counterpart to Solidity's `%` operator. This function uses a `revert`\\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\\n     * invalid opcode to revert (consuming all remaining gas).\\n     *\\n     * Requirements:\\n     *\\n     * - The divisor cannot be zero.\\n     */\\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\\n        require(b > 0, \\\"SafeMath: modulo by zero\\\");\\n        return a % b;\\n    }\\n\\n    /**\\n     * @dev Returns the subtraction of two unsigned integers, reverting with custom message on\\n     * overflow (when the result is negative).\\n     *\\n     * CAUTION: This function is deprecated because it requires allocating memory for the error\\n     * message unnecessarily. For custom revert reasons use {trySub}.\\n     *\\n     * Counterpart to Solidity's `-` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - Subtraction cannot overflow.\\n     */\\n    function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\\n        require(b <= a, errorMessage);\\n        return a - b;\\n    }\\n\\n    /**\\n     * @dev Returns the integer division of two unsigned integers, reverting with custom message on\\n     * division by zero. The result is rounded towards zero.\\n     *\\n     * CAUTION: This function is deprecated because it requires allocating memory for the error\\n     * message unnecessarily. For custom revert reasons use {tryDiv}.\\n     *\\n     * Counterpart to Solidity's `/` operator. Note: this function uses a\\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\\n     * uses an invalid opcode to revert (consuming all remaining gas).\\n     *\\n     * Requirements:\\n     *\\n     * - The divisor cannot be zero.\\n     */\\n    function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\\n        require(b > 0, errorMessage);\\n        return a / b;\\n    }\\n\\n    /**\\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\\n     * reverting with custom message when dividing by zero.\\n     *\\n     * CAUTION: This function is deprecated because it requires allocating memory for the error\\n     * message unnecessarily. For custom revert reasons use {tryMod}.\\n     *\\n     * Counterpart to Solidity's `%` operator. This function uses a `revert`\\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\\n     * invalid opcode to revert (consuming all remaining gas).\\n     *\\n     * Requirements:\\n     *\\n     * - The divisor cannot be zero.\\n     */\\n    function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\\n        require(b > 0, errorMessage);\\n        return a % b;\\n    }\\n}\\n\",\"keccak256\":\"0xcc78a17dd88fa5a2edc60c8489e2f405c0913b377216a5b26b35656b2d0dab52\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity >=0.6.0 <0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `recipient`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address recipient, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n}\\n\",\"keccak256\":\"0x5f02220344881ce43204ae4a6281145a67bc52c2bb1290a791857df3d19d78f5\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/SafeERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity >=0.6.0 <0.8.0;\\n\\nimport \\\"./IERC20.sol\\\";\\nimport \\\"../../math/SafeMath.sol\\\";\\nimport \\\"../../utils/Address.sol\\\";\\n\\n/**\\n * @title SafeERC20\\n * @dev Wrappers around ERC20 operations that throw on failure (when the token\\n * contract returns false). Tokens that return no value (and instead revert or\\n * throw on failure) are also supported, non-reverting calls are assumed to be\\n * successful.\\n * To use this library you can add a `using SafeERC20 for IERC20;` statement to your contract,\\n * which allows you to call the safe operations as `token.safeTransfer(...)`, etc.\\n */\\nlibrary SafeERC20 {\\n    using SafeMath for uint256;\\n    using Address for address;\\n\\n    function safeTransfer(IERC20 token, address to, uint256 value) internal {\\n        _callOptionalReturn(token, abi.encodeWithSelector(token.transfer.selector, to, value));\\n    }\\n\\n    function safeTransferFrom(IERC20 token, address from, address to, uint256 value) internal {\\n        _callOptionalReturn(token, abi.encodeWithSelector(token.transferFrom.selector, from, to, value));\\n    }\\n\\n    /**\\n     * @dev Deprecated. This function has issues similar to the ones found in\\n     * {IERC20-approve}, and its usage is discouraged.\\n     *\\n     * Whenever possible, use {safeIncreaseAllowance} and\\n     * {safeDecreaseAllowance} instead.\\n     */\\n    function safeApprove(IERC20 token, address spender, uint256 value) internal {\\n        // safeApprove should only be called when setting an initial allowance,\\n        // or when resetting it to zero. To increase and decrease it, use\\n        // 'safeIncreaseAllowance' and 'safeDecreaseAllowance'\\n        // solhint-disable-next-line max-line-length\\n        require((value == 0) || (token.allowance(address(this), spender) == 0),\\n            \\\"SafeERC20: approve from non-zero to non-zero allowance\\\"\\n        );\\n        _callOptionalReturn(token, abi.encodeWithSelector(token.approve.selector, spender, value));\\n    }\\n\\n    function safeIncreaseAllowance(IERC20 token, address spender, uint256 value) internal {\\n        uint256 newAllowance = token.allowance(address(this), spender).add(value);\\n        _callOptionalReturn(token, abi.encodeWithSelector(token.approve.selector, spender, newAllowance));\\n    }\\n\\n    function safeDecreaseAllowance(IERC20 token, address spender, uint256 value) internal {\\n        uint256 newAllowance = token.allowance(address(this), spender).sub(value, \\\"SafeERC20: decreased allowance below zero\\\");\\n        _callOptionalReturn(token, abi.encodeWithSelector(token.approve.selector, spender, newAllowance));\\n    }\\n\\n    /**\\n     * @dev Imitates a Solidity high-level call (i.e. a regular function call to a contract), relaxing the requirement\\n     * on the return value: the return value is optional (but if data is returned, it must not be false).\\n     * @param token The token targeted by the call.\\n     * @param data The call data (encoded using abi.encode or one of its variants).\\n     */\\n    function _callOptionalReturn(IERC20 token, bytes memory data) private {\\n        // We need to perform a low level call here, to bypass Solidity's return data size checking mechanism, since\\n        // we're implementing it ourselves. We use {Address.functionCall} to perform this call, which verifies that\\n        // the target address contains contract code and also asserts for success in the low-level call.\\n\\n        bytes memory returndata = address(token).functionCall(data, \\\"SafeERC20: low-level call failed\\\");\\n        if (returndata.length > 0) { // Return data is optional\\n            // solhint-disable-next-line max-line-length\\n            require(abi.decode(returndata, (bool)), \\\"SafeERC20: ERC20 operation did not succeed\\\");\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xf12dfbe97e6276980b83d2830bb0eb75e0cf4f3e626c2471137f82158ae6a0fc\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Address.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity >=0.6.2 <0.8.0;\\n\\n/**\\n * @dev Collection of functions related to the address type\\n */\\nlibrary Address {\\n    /**\\n     * @dev Returns true if `account` is a contract.\\n     *\\n     * [IMPORTANT]\\n     * ====\\n     * It is unsafe to assume that an address for which this function returns\\n     * false is an externally-owned account (EOA) and not a contract.\\n     *\\n     * Among others, `isContract` will return false for the following\\n     * types of addresses:\\n     *\\n     *  - an externally-owned account\\n     *  - a contract in construction\\n     *  - an address where a contract will be created\\n     *  - an address where a contract lived, but was destroyed\\n     * ====\\n     */\\n    function isContract(address account) internal view returns (bool) {\\n        // This method relies on extcodesize, which returns 0 for contracts in\\n        // construction, since the code is only stored at the end of the\\n        // constructor execution.\\n\\n        uint256 size;\\n        // solhint-disable-next-line no-inline-assembly\\n        assembly { size := extcodesize(account) }\\n        return size > 0;\\n    }\\n\\n    /**\\n     * @dev Replacement for Solidity's `transfer`: sends `amount` wei to\\n     * `recipient`, forwarding all available gas and reverting on errors.\\n     *\\n     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost\\n     * of certain opcodes, possibly making contracts go over the 2300 gas limit\\n     * imposed by `transfer`, making them unable to receive funds via\\n     * `transfer`. {sendValue} removes this limitation.\\n     *\\n     * https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].\\n     *\\n     * IMPORTANT: because control is transferred to `recipient`, care must be\\n     * taken to not create reentrancy vulnerabilities. Consider using\\n     * {ReentrancyGuard} or the\\n     * https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].\\n     */\\n    function sendValue(address payable recipient, uint256 amount) internal {\\n        require(address(this).balance >= amount, \\\"Address: insufficient balance\\\");\\n\\n        // solhint-disable-next-line avoid-low-level-calls, avoid-call-value\\n        (bool success, ) = recipient.call{ value: amount }(\\\"\\\");\\n        require(success, \\\"Address: unable to send value, recipient may have reverted\\\");\\n    }\\n\\n    /**\\n     * @dev Performs a Solidity function call using a low level `call`. A\\n     * plain`call` is an unsafe replacement for a function call: use this\\n     * function instead.\\n     *\\n     * If `target` reverts with a revert reason, it is bubbled up by this\\n     * function (like regular Solidity function calls).\\n     *\\n     * Returns the raw returned data. To convert to the expected return value,\\n     * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].\\n     *\\n     * Requirements:\\n     *\\n     * - `target` must be a contract.\\n     * - calling `target` with `data` must not revert.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCall(address target, bytes memory data) internal returns (bytes memory) {\\n      return functionCall(target, data, \\\"Address: low-level call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`], but with\\n     * `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCall(address target, bytes memory data, string memory errorMessage) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, 0, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but also transferring `value` wei to `target`.\\n     *\\n     * Requirements:\\n     *\\n     * - the calling contract must have an ETH balance of at least `value`.\\n     * - the called Solidity function must be `payable`.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, value, \\\"Address: low-level call with value failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[`functionCallWithValue`], but\\n     * with `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCallWithValue(address target, bytes memory data, uint256 value, string memory errorMessage) internal returns (bytes memory) {\\n        require(address(this).balance >= value, \\\"Address: insufficient balance for call\\\");\\n        require(isContract(target), \\\"Address: call to non-contract\\\");\\n\\n        // solhint-disable-next-line avoid-low-level-calls\\n        (bool success, bytes memory returndata) = target.call{ value: value }(data);\\n        return _verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n    function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory) {\\n        return functionStaticCall(target, data, \\\"Address: low-level static call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n    function functionStaticCall(address target, bytes memory data, string memory errorMessage) internal view returns (bytes memory) {\\n        require(isContract(target), \\\"Address: static call to non-contract\\\");\\n\\n        // solhint-disable-next-line avoid-low-level-calls\\n        (bool success, bytes memory returndata) = target.staticcall(data);\\n        return _verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a delegate call.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory) {\\n        return functionDelegateCall(target, data, \\\"Address: low-level delegate call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],\\n     * but performing a delegate call.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function functionDelegateCall(address target, bytes memory data, string memory errorMessage) internal returns (bytes memory) {\\n        require(isContract(target), \\\"Address: delegate call to non-contract\\\");\\n\\n        // solhint-disable-next-line avoid-low-level-calls\\n        (bool success, bytes memory returndata) = target.delegatecall(data);\\n        return _verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    function _verifyCallResult(bool success, bytes memory returndata, string memory errorMessage) private pure returns(bytes memory) {\\n        if (success) {\\n            return returndata;\\n        } else {\\n            // Look for revert reason and bubble it up if present\\n            if (returndata.length > 0) {\\n                // The easiest way to bubble the revert reason is using memory via assembly\\n\\n                // solhint-disable-next-line no-inline-assembly\\n                assembly {\\n                    let returndata_size := mload(returndata)\\n                    revert(add(32, returndata), returndata_size)\\n                }\\n            } else {\\n                revert(errorMessage);\\n            }\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x28911e614500ae7c607a432a709d35da25f3bc5ddc8bd12b278b66358070c0ea\",\"license\":\"MIT\"},\"contracts/interfaces/GammaInterface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity >=0.7.2;\\npragma experimental ABIEncoderV2;\\n\\nlibrary GammaTypes {\\n    // vault is a struct of 6 arrays that describe a position a user has, a user can have multiple vaults.\\n    struct Vault {\\n        // addresses of oTokens a user has shorted (i.e. written) against this vault\\n        address[] shortOtokens;\\n        // addresses of oTokens a user has bought and deposited in this vault\\n        // user can be long oTokens without opening a vault (e.g. by buying on a DEX)\\n        // generally, long oTokens will be 'deposited' in vaults to act as collateral\\n        // in order to write oTokens against (i.e. in spreads)\\n        address[] longOtokens;\\n        // addresses of other ERC-20s a user has deposited as collateral in this vault\\n        address[] collateralAssets;\\n        // quantity of oTokens minted/written for each oToken address in shortOtokens\\n        uint256[] shortAmounts;\\n        // quantity of oTokens owned and held in the vault for each oToken address in longOtokens\\n        uint256[] longAmounts;\\n        // quantity of ERC-20 deposited as collateral in the vault for each ERC-20 address in collateralAssets\\n        uint256[] collateralAmounts;\\n    }\\n}\\n\\ninterface IOtoken {\\n    function underlyingAsset() external view returns (address);\\n\\n    function strikeAsset() external view returns (address);\\n\\n    function collateralAsset() external view returns (address);\\n\\n    function strikePrice() external view returns (uint256);\\n\\n    function expiryTimestamp() external view returns (uint256);\\n\\n    function isPut() external view returns (bool);\\n}\\n\\ninterface IOtokenFactory {\\n    function getOtoken(\\n        address _underlyingAsset,\\n        address _strikeAsset,\\n        address _collateralAsset,\\n        uint256 _strikePrice,\\n        uint256 _expiry,\\n        bool _isPut\\n    ) external view returns (address);\\n\\n    function createOtoken(\\n        address _underlyingAsset,\\n        address _strikeAsset,\\n        address _collateralAsset,\\n        uint256 _strikePrice,\\n        uint256 _expiry,\\n        bool _isPut\\n    ) external returns (address);\\n\\n    function getTargetOtokenAddress(\\n        address _underlyingAsset,\\n        address _strikeAsset,\\n        address _collateralAsset,\\n        uint256 _strikePrice,\\n        uint256 _expiry,\\n        bool _isPut\\n    ) external view returns (address);\\n\\n    event OtokenCreated(\\n        address tokenAddress,\\n        address creator,\\n        address indexed underlying,\\n        address indexed strike,\\n        address indexed collateral,\\n        uint256 strikePrice,\\n        uint256 expiry,\\n        bool isPut\\n    );\\n}\\n\\ninterface IController {\\n    // possible actions that can be performed\\n    enum ActionType {\\n        OpenVault,\\n        MintShortOption,\\n        BurnShortOption,\\n        DepositLongOption,\\n        WithdrawLongOption,\\n        DepositCollateral,\\n        WithdrawCollateral,\\n        SettleVault,\\n        Redeem,\\n        Call\\n    }\\n\\n    struct ActionArgs {\\n        // type of action that is being performed on the system\\n        ActionType actionType;\\n        // address of the account owner\\n        address owner;\\n        // address which we move assets from or to (depending on the action type)\\n        address secondAddress;\\n        // asset that is to be transfered\\n        address asset;\\n        // index of the vault that is to be modified (if any)\\n        uint256 vaultId;\\n        // amount of asset that is to be transfered\\n        uint256 amount;\\n        // each vault can hold multiple short / long / collateral assets\\n        // but we are restricting the scope to only 1 of each in this version\\n        // in future versions this would be the index of the short / long / collateral asset that needs to be modified\\n        uint256 index;\\n        // any other data that needs to be passed in for arbitrary function calls\\n        bytes data;\\n    }\\n\\n    struct RedeemArgs {\\n        // address to which we pay out the oToken proceeds\\n        address receiver;\\n        // oToken that is to be redeemed\\n        address otoken;\\n        // amount of oTokens that is to be redeemed\\n        uint256 amount;\\n    }\\n\\n    function getPayout(address _otoken, uint256 _amount)\\n        external\\n        view\\n        returns (uint256);\\n\\n    function operate(ActionArgs[] calldata _actions) external;\\n\\n    function getAccountVaultCounter(address owner)\\n        external\\n        view\\n        returns (uint256);\\n\\n    function oracle() external view returns (address);\\n\\n    function getVault(address _owner, uint256 _vaultId)\\n        external\\n        view\\n        returns (GammaTypes.Vault memory);\\n\\n    function getProceed(address _owner, uint256 _vaultId)\\n        external\\n        view\\n        returns (uint256);\\n\\n    function isSettlementAllowed(\\n        address _underlying,\\n        address _strike,\\n        address _collateral,\\n        uint256 _expiry\\n    ) external view returns (bool);\\n}\\n\",\"keccak256\":\"0x9991e09239701bc5d7259e0303ed4ac8b5849924eabc09cbfce3a97bd56fbd0c\",\"license\":\"MIT\"},\"contracts/interfaces/IERC20Detailed.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.7.3;\\n\\nimport {IERC20} from \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\n\\ninterface IERC20Detailed is IERC20 {\\n    function decimals() external view returns (uint8);\\n\\n    function symbol() external view returns (string calldata);\\n}\\n\",\"keccak256\":\"0xf039c3adaa4df237d18d647d01cb5c7002138652722cff9c2f902af8438c8dac\",\"license\":\"MIT\"},\"contracts/interfaces/IGnosisAuction.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.7.3;\\npragma experimental ABIEncoderV2;\\n\\nimport {IERC20} from \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\n\\nlibrary AuctionType {\\n    struct AuctionData {\\n        IERC20 auctioningToken;\\n        IERC20 biddingToken;\\n        uint256 orderCancellationEndDate;\\n        uint256 auctionEndDate;\\n        bytes32 initialAuctionOrder;\\n        uint256 minimumBiddingAmountPerOrder;\\n        uint256 interimSumBidAmount;\\n        bytes32 interimOrder;\\n        bytes32 clearingPriceOrder;\\n        uint96 volumeClearingPriceOrder;\\n        bool minFundingThresholdNotReached;\\n        bool isAtomicClosureAllowed;\\n        uint256 feeNumerator;\\n        uint256 minFundingThreshold;\\n    }\\n}\\n\\ninterface IGnosisAuction {\\n    function initiateAuction(\\n        address _auctioningToken,\\n        address _biddingToken,\\n        uint256 orderCancellationEndDate,\\n        uint256 auctionEndDate,\\n        uint96 _auctionedSellAmount,\\n        uint96 _minBuyAmount,\\n        uint256 minimumBiddingAmountPerOrder,\\n        uint256 minFundingThreshold,\\n        bool isAtomicClosureAllowed,\\n        address accessManagerContract,\\n        bytes memory accessManagerContractData\\n    ) external returns (uint256);\\n\\n    function auctionCounter() external view returns (uint256);\\n\\n    function auctionData(uint256 auctionId)\\n        external\\n        view\\n        returns (AuctionType.AuctionData memory);\\n\\n    function auctionAccessManager(uint256 auctionId)\\n        external\\n        view\\n        returns (address);\\n\\n    function auctionAccessData(uint256 auctionId)\\n        external\\n        view\\n        returns (bytes memory);\\n\\n    function FEE_DENOMINATOR() external view returns (uint256);\\n\\n    function feeNumerator() external view returns (uint256);\\n\\n    function settleAuction(uint256 auctionId) external returns (bytes32);\\n\\n    function placeSellOrders(\\n        uint256 auctionId,\\n        uint96[] memory _minBuyAmounts,\\n        uint96[] memory _sellAmounts,\\n        bytes32[] memory _prevSellOrders,\\n        bytes calldata allowListCallData\\n    ) external returns (uint64);\\n\\n    function claimFromParticipantOrder(\\n        uint256 auctionId,\\n        bytes32[] memory orders\\n    ) external returns (uint256, uint256);\\n}\\n\",\"keccak256\":\"0x6ed1b9c71e05608b7d49a3e9a4635004f3a82dd54ca6cccedc07af8e84e0f3eb\",\"license\":\"MIT\"},\"contracts/interfaces/IRibbon.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.7.3;\\n\\ninterface IStrikeSelection {\\n    function getStrikePrice(uint256 expiryTimestamp, bool isPut)\\n        external\\n        view\\n        returns (uint256, uint256);\\n\\n    function delta() external view returns (uint256);\\n}\\n\\ninterface IOptionsPremiumPricer {\\n    function getPremium(\\n        uint256 strikePrice,\\n        uint256 timeToExpiry,\\n        bool isPut\\n    ) external view returns (uint256);\\n\\n    function getOptionDelta(\\n        uint256 sp,\\n        uint256 st,\\n        uint256 v,\\n        uint256 t\\n    ) external view returns (uint256 delta);\\n\\n    function getUnderlyingPrice() external view returns (uint256 price);\\n\\n    function priceOracle() external view returns (address oracle);\\n\\n    function volatilityOracle() external view returns (address oracle);\\n\\n    function pool() external view returns (address _pool);\\n}\\n\",\"keccak256\":\"0x6e56f903a01a711fc43a4cd33ee9c521a9078c81a6c88743eaaedd9ea883a03f\",\"license\":\"MIT\"},\"contracts/interfaces/IRibbonThetaVault.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.7.3;\\npragma experimental ABIEncoderV2;\\n\\nimport {Vault} from \\\"../libraries/Vault.sol\\\";\\n\\ninterface IRibbonThetaVault {\\n    function currentOption() external view returns (address _currentOption);\\n\\n    function nextOption() external view returns (address _nextOption);\\n\\n    function vaultParams() external view returns (Vault.VaultParams memory);\\n\\n    function vaultState() external view returns (Vault.VaultState memory);\\n\\n    function optionState() external view returns (Vault.OptionState memory);\\n\\n    function optionAuctionID() external view returns (uint256 _auctionID);\\n}\\n\",\"keccak256\":\"0x57dd0ff8546968a5132bb732b164c14b339539f7866e297109b1e46308b519d3\",\"license\":\"MIT\"},\"contracts/libraries/GnosisAuction.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.7.3;\\npragma experimental ABIEncoderV2;\\n\\nimport {SafeMath} from \\\"@openzeppelin/contracts/math/SafeMath.sol\\\";\\nimport {IERC20} from \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\nimport {SafeERC20} from \\\"@openzeppelin/contracts/token/ERC20/SafeERC20.sol\\\";\\nimport {IGnosisAuction} from \\\"../interfaces/IGnosisAuction.sol\\\";\\nimport {IOtoken} from \\\"../interfaces/GammaInterface.sol\\\";\\nimport {IOptionsPremiumPricer} from \\\"../interfaces/IRibbon.sol\\\";\\nimport {Vault} from \\\"./Vault.sol\\\";\\nimport {IRibbonThetaVault} from \\\"../interfaces/IRibbonThetaVault.sol\\\";\\n\\nlibrary GnosisAuction {\\n    using SafeMath for uint256;\\n    using SafeERC20 for IERC20;\\n\\n    event InitiateGnosisAuction(\\n        address auctioningToken,\\n        address biddingToken,\\n        uint256 auctionCounter,\\n        address manager\\n    );\\n\\n    event PlaceAuctionBid(\\n        uint256 auctionId,\\n        address auctioningToken,\\n        uint256 sellAmount,\\n        uint256 buyAmount,\\n        address bidder\\n    );\\n\\n    struct AuctionDetails {\\n        address oTokenAddress;\\n        address gnosisEasyAuction;\\n        address asset;\\n        uint256 assetDecimals;\\n        uint256 oTokenPremium;\\n        uint256 duration;\\n    }\\n\\n    struct BidDetails {\\n        address oTokenAddress;\\n        address gnosisEasyAuction;\\n        address asset;\\n        uint256 assetDecimals;\\n        uint256 auctionId;\\n        uint256 lockedBalance;\\n        uint256 optionAllocationPct;\\n        uint256 optionPremium;\\n        address bidder;\\n    }\\n\\n    function startAuction(AuctionDetails calldata auctionDetails)\\n        internal\\n        returns (uint256 auctionID)\\n    {\\n        uint256 oTokenSellAmount =\\n            getOTokenSellAmount(auctionDetails.oTokenAddress);\\n\\n        IERC20(auctionDetails.oTokenAddress).safeApprove(\\n            auctionDetails.gnosisEasyAuction,\\n            IERC20(auctionDetails.oTokenAddress).balanceOf(address(this))\\n        );\\n\\n        // minBidAmount is total oTokens to sell * premium per oToken\\n        // shift decimals to correspond to decimals of USDC for puts\\n        // and underlying for calls\\n        uint256 minBidAmount =\\n            dswmul(oTokenSellAmount.mul(10**10), auctionDetails.oTokenPremium)\\n                .div(10**(uint256(18).sub(auctionDetails.assetDecimals)));\\n\\n        require(\\n            minBidAmount <= type(uint96).max,\\n            \\\"optionPremium * oTokenSellAmount > type(uint96) max value!\\\"\\n        );\\n\\n        auctionID = IGnosisAuction(auctionDetails.gnosisEasyAuction)\\n            .initiateAuction(\\n            // address of oToken we minted and are selling\\n            auctionDetails.oTokenAddress,\\n            // address of asset we want in exchange for oTokens. Should match vault collateral\\n            auctionDetails.asset,\\n            // orders can be cancelled before the auction's halfway point\\n            block.timestamp.add(auctionDetails.duration.div(2)),\\n            // order will last for `duration`\\n            block.timestamp.add(auctionDetails.duration),\\n            // we are selling all of the otokens minus a fee taken by gnosis\\n            uint96(oTokenSellAmount),\\n            // the minimum we are willing to sell all the oTokens for. A discount is applied on black-scholes price\\n            uint96(minBidAmount),\\n            // the minimum bidding amount must be 1 * 10 ** -assetDecimals\\n            1,\\n            // the min funding threshold\\n            0,\\n            // no atomic closure\\n            false,\\n            // access manager contract\\n            address(0),\\n            // bytes for storing info like a whitelist for who can bid\\n            bytes(\\\"\\\")\\n        );\\n\\n        emit InitiateGnosisAuction(\\n            auctionDetails.oTokenAddress,\\n            auctionDetails.asset,\\n            auctionID,\\n            msg.sender\\n        );\\n    }\\n\\n    function placeBid(BidDetails calldata bidDetails)\\n        internal\\n        returns (\\n            uint256 sellAmount,\\n            uint256 buyAmount,\\n            uint64 userId\\n        )\\n    {\\n        // calculate how much to allocate\\n        sellAmount = bidDetails\\n            .lockedBalance\\n            .mul(bidDetails.optionAllocationPct)\\n            .div(10000);\\n\\n        // divide the `asset` sellAmount by the target premium per oToken to\\n        // get the number of oTokens to buy (8 decimals)\\n        buyAmount = sellAmount\\n            .mul(10**bidDetails.assetDecimals)\\n            .div(bidDetails.optionPremium)\\n            .mul(10**8)\\n            .div(10**bidDetails.assetDecimals);\\n\\n        require(\\n            sellAmount <= type(uint96).max,\\n            \\\"sellAmount > type(uint96) max value!\\\"\\n        );\\n        require(\\n            buyAmount <= type(uint96).max,\\n            \\\"buyAmount > type(uint96) max value!\\\"\\n        );\\n\\n        // approve that amount\\n        IERC20(bidDetails.asset).safeApprove(\\n            bidDetails.gnosisEasyAuction,\\n            sellAmount\\n        );\\n\\n        uint96[] memory _minBuyAmounts = new uint96[](1);\\n        uint96[] memory _sellAmounts = new uint96[](1);\\n        bytes32[] memory _prevSellOrders = new bytes32[](1);\\n        _minBuyAmounts[0] = uint96(buyAmount);\\n        _sellAmounts[0] = uint96(sellAmount);\\n        _prevSellOrders[\\n            0\\n        ] = 0x0000000000000000000000000000000000000000000000000000000000000001;\\n\\n        // place sell order with that amount\\n        userId = IGnosisAuction(bidDetails.gnosisEasyAuction).placeSellOrders(\\n            bidDetails.auctionId,\\n            _minBuyAmounts,\\n            _sellAmounts,\\n            _prevSellOrders,\\n            \\\"0x\\\"\\n        );\\n\\n        emit PlaceAuctionBid(\\n            bidDetails.auctionId,\\n            bidDetails.oTokenAddress,\\n            sellAmount,\\n            buyAmount,\\n            bidDetails.bidder\\n        );\\n    }\\n\\n    function claimAuctionOtokens(\\n        Vault.AuctionSellOrder calldata auctionSellOrder,\\n        address gnosisEasyAuction,\\n        address counterpartyThetaVault\\n    ) internal {\\n        bytes32 order =\\n            encodeOrder(\\n                auctionSellOrder.userId,\\n                auctionSellOrder.buyAmount,\\n                auctionSellOrder.sellAmount\\n            );\\n        bytes32[] memory orders = new bytes32[](1);\\n        orders[0] = order;\\n        IGnosisAuction(gnosisEasyAuction).claimFromParticipantOrder(\\n            IRibbonThetaVault(counterpartyThetaVault).optionAuctionID(),\\n            orders\\n        );\\n    }\\n\\n    function getOTokenSellAmount(address oTokenAddress)\\n        internal\\n        view\\n        returns (uint256 oTokenSellAmount)\\n    {\\n        // We take our current oToken balance. That will be our sell amount\\n        // but gnosis will transfer all the otokens\\n        oTokenSellAmount = IERC20(oTokenAddress).balanceOf(address(this));\\n\\n        require(\\n            oTokenSellAmount <= type(uint96).max,\\n            \\\"oTokenSellAmount > type(uint96) max value!\\\"\\n        );\\n    }\\n\\n    function getOTokenPremium(\\n        address oTokenAddress,\\n        address optionsPremiumPricer,\\n        uint256 premiumDiscount\\n    ) internal view returns (uint256 optionPremium) {\\n        IOtoken newOToken = IOtoken(oTokenAddress);\\n        IOptionsPremiumPricer premiumPricer =\\n            IOptionsPremiumPricer(optionsPremiumPricer);\\n\\n        // Apply black-scholes formula (from rvol library) to option given its features\\n        // and get price for 100 contracts denominated in the underlying asset for call option\\n        // and USDC for put option\\n        optionPremium = premiumPricer.getPremium(\\n            newOToken.strikePrice(),\\n            newOToken.expiryTimestamp(),\\n            newOToken.isPut()\\n        );\\n\\n        // Apply a discount to incentivize arbitraguers\\n        optionPremium = optionPremium.mul(premiumDiscount).div(1000);\\n\\n        require(\\n            optionPremium <= type(uint96).max,\\n            \\\"optionPremium > type(uint96) max value!\\\"\\n        );\\n    }\\n\\n    function encodeOrder(\\n        uint64 userId,\\n        uint96 buyAmount,\\n        uint96 sellAmount\\n    ) internal pure returns (bytes32) {\\n        return\\n            bytes32(\\n                (uint256(userId) << 192) +\\n                    (uint256(buyAmount) << 96) +\\n                    uint256(sellAmount)\\n            );\\n    }\\n\\n    /***\\n     * DSMath Copy paste\\n     */\\n\\n    uint256 constant DSWAD = 10**18;\\n\\n    function dsadd(uint256 x, uint256 y) private pure returns (uint256 z) {\\n        require((z = x + y) >= x, \\\"ds-math-add-overflow\\\");\\n    }\\n\\n    function dsmul(uint256 x, uint256 y) private pure returns (uint256 z) {\\n        require(y == 0 || (z = x * y) / y == x, \\\"ds-math-mul-overflow\\\");\\n    }\\n\\n    //rounds to zero if x*y < WAD / 2\\n    function dswmul(uint256 x, uint256 y) internal pure returns (uint256 z) {\\n        z = dsadd(dsmul(x, y), DSWAD / 2) / DSWAD;\\n    }\\n}\\n\",\"keccak256\":\"0x3789aaa0c96a385155c5ac91782ffdb45a281b286c1e58a2512cc915cc5c5aa6\",\"license\":\"MIT\"},\"contracts/libraries/SupportsNonCompliantERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.7.3;\\nimport {IERC20} from \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\nimport {SafeERC20} from \\\"@openzeppelin/contracts/token/ERC20/SafeERC20.sol\\\";\\n\\nlibrary SupportsNonCompliantERC20 {\\n    address constant USDT = 0xdAC17F958D2ee523a2206206994597C13D831ec7;\\n\\n    function doubleApprove(\\n        IERC20 token,\\n        address spender,\\n        uint256 amount\\n    ) internal {\\n        if (address(token) == USDT) {\\n            SafeERC20.safeApprove(token, spender, 0);\\n        }\\n        SafeERC20.safeApprove(token, spender, amount);\\n    }\\n}\\n\",\"keccak256\":\"0xda4b56525a5947c5ee9e329549f12a5d6ff45e6a175baa7c733e01c982db640e\",\"license\":\"MIT\"},\"contracts/libraries/Vault.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.7.3;\\n\\nlibrary Vault {\\n    struct VaultParams {\\n        // Option type the vault is selling\\n        bool isPut;\\n        // Token decimals for vault shares\\n        uint8 decimals;\\n        // Asset used in Theta / Delta Vault\\n        address asset;\\n        // Underlying asset of the options sold by vault\\n        address underlying;\\n        // Minimum supply of the vault shares issued, for ETH it's 10**10\\n        uint56 minimumSupply;\\n        // Vault cap\\n        uint104 cap;\\n    }\\n\\n    struct OptionState {\\n        // Option that the vault is shorting / longing in the next cycle\\n        address nextOption;\\n        // Option that the vault is currently shorting / longing\\n        address currentOption;\\n        // The timestamp when the `nextOption` can be used by the vault\\n        uint32 nextOptionReadyAt;\\n    }\\n\\n    struct VaultState {\\n        // 32 byte slot 1\\n        //  Current round number. `round` represents the number of `period`s elapsed.\\n        uint16 round;\\n        // Amount that is currently locked for selling options\\n        uint104 lockedAmount;\\n        // Amount that was locked for selling options in the previous round\\n        // used for calculating performance fee deduction\\n        uint104 lastLockedAmount;\\n        // 32 byte slot 2\\n        // Stores the total tally of how much of collateral there is\\n        // to be used to mint rTHETA tokens\\n        uint128 totalPending;\\n        // Amount locked for scheduled withdrawals;\\n        uint128 queuedWithdrawShares;\\n    }\\n\\n    struct DepositReceipt {\\n        // Maximum of 65535 rounds. Assuming 1 round is 7 days, maximum is 1256 years.\\n        uint16 round;\\n        // Deposit amount, max 20,282,409,603,651 or 20 trillion ETH deposit\\n        uint104 amount;\\n        // Unredeemed shares balance\\n        uint128 unredeemedShares;\\n    }\\n\\n    struct Withdrawal {\\n        // Maximum of 65535 rounds. Assuming 1 round is 7 days, maximum is 1256 years.\\n        uint16 round;\\n        // Number of shares withdrawn\\n        uint128 shares;\\n    }\\n\\n    struct AuctionSellOrder {\\n        // Amount of `asset` token offered in auction\\n        uint96 sellAmount;\\n        // Amount of oToken requested in auction\\n        uint96 buyAmount;\\n        // User Id of delta vault in latest gnosis auction\\n        uint64 userId;\\n    }\\n}\\n\",\"keccak256\":\"0xa5b2d6e40a340e4b115359748cb012c18955034f448819ce88ea5a86968dc1c2\",\"license\":\"MIT\"},\"contracts/libraries/VaultLifecycle.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.7.3;\\npragma experimental ABIEncoderV2;\\n\\nimport {SafeMath} from \\\"@openzeppelin/contracts/math/SafeMath.sol\\\";\\nimport {IERC20} from \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\nimport {Vault} from \\\"./Vault.sol\\\";\\nimport {\\n    IStrikeSelection,\\n    IOptionsPremiumPricer\\n} from \\\"../interfaces/IRibbon.sol\\\";\\nimport {GnosisAuction} from \\\"./GnosisAuction.sol\\\";\\nimport {\\n    IOtokenFactory,\\n    IOtoken,\\n    IController,\\n    GammaTypes\\n} from \\\"../interfaces/GammaInterface.sol\\\";\\nimport {IERC20Detailed} from \\\"../interfaces/IERC20Detailed.sol\\\";\\nimport {SupportsNonCompliantERC20} from \\\"./SupportsNonCompliantERC20.sol\\\";\\n\\nlibrary VaultLifecycle {\\n    using SafeMath for uint256;\\n    using SupportsNonCompliantERC20 for IERC20;\\n\\n    struct CloseParams {\\n        address OTOKEN_FACTORY;\\n        address USDC;\\n        address currentOption;\\n        uint256 delay;\\n        uint256 lastStrikeOverride;\\n        uint256 overriddenStrikePrice;\\n    }\\n\\n    function commitAndClose(\\n        address strikeSelection,\\n        address optionsPremiumPricer,\\n        uint256 premiumDiscount,\\n        CloseParams calldata closeParams,\\n        Vault.VaultParams calldata vaultParams,\\n        Vault.VaultState storage vaultState\\n    )\\n        external\\n        returns (\\n            address otokenAddress,\\n            uint256 premium,\\n            uint256 strikePrice,\\n            uint256 delta\\n        )\\n    {\\n        uint256 expiry;\\n\\n        // uninitialized state\\n        if (closeParams.currentOption == address(0)) {\\n            expiry = getNextFriday(block.timestamp);\\n        } else {\\n            expiry = getNextFriday(\\n                IOtoken(closeParams.currentOption).expiryTimestamp()\\n            );\\n        }\\n\\n        IStrikeSelection selection = IStrikeSelection(strikeSelection);\\n\\n        bool isPut = vaultParams.isPut;\\n        address underlying = vaultParams.underlying;\\n        address asset = vaultParams.asset;\\n\\n        (strikePrice, delta) = closeParams.lastStrikeOverride ==\\n            vaultState.round\\n            ? (closeParams.overriddenStrikePrice, selection.delta())\\n            : selection.getStrikePrice(expiry, isPut);\\n\\n        require(strikePrice != 0, \\\"!strikePrice\\\");\\n\\n        otokenAddress = getOrDeployOtoken(\\n            closeParams,\\n            vaultParams,\\n            underlying,\\n            asset,\\n            strikePrice,\\n            expiry,\\n            isPut\\n        );\\n\\n        premium = GnosisAuction.getOTokenPremium(\\n            otokenAddress,\\n            optionsPremiumPricer,\\n            premiumDiscount\\n        );\\n\\n        require(premium > 0, \\\"!premium\\\");\\n    }\\n\\n    function verifyOtoken(\\n        address otokenAddress,\\n        Vault.VaultParams calldata vaultParams,\\n        address collateralAsset,\\n        address USDC,\\n        uint256 delay\\n    ) private view {\\n        require(otokenAddress != address(0), \\\"!otokenAddress\\\");\\n\\n        IOtoken otoken = IOtoken(otokenAddress);\\n        require(otoken.isPut() == vaultParams.isPut, \\\"Type mismatch\\\");\\n        require(\\n            otoken.underlyingAsset() == vaultParams.underlying,\\n            \\\"Wrong underlyingAsset\\\"\\n        );\\n        require(\\n            otoken.collateralAsset() == collateralAsset,\\n            \\\"Wrong collateralAsset\\\"\\n        );\\n\\n        // we just assume all options use USDC as the strike\\n        require(otoken.strikeAsset() == USDC, \\\"strikeAsset != USDC\\\");\\n\\n        uint256 readyAt = block.timestamp.add(delay);\\n        require(otoken.expiryTimestamp() >= readyAt, \\\"Expiry before delay\\\");\\n    }\\n\\n    function rollover(\\n        uint256 currentSupply,\\n        address asset,\\n        uint8 decimals,\\n        uint256 pendingAmount,\\n        uint128 queuedWithdrawShares\\n    )\\n        external\\n        view\\n        returns (\\n            uint256 newLockedAmount,\\n            uint256 newPricePerShare,\\n            uint256 mintShares\\n        )\\n    {\\n        uint256 currentBalance = IERC20(asset).balanceOf(address(this));\\n        uint256 roundStartBalance = currentBalance.sub(pendingAmount);\\n\\n        uint256 singleShare = 10**uint256(decimals);\\n\\n        newPricePerShare = getPPS(\\n            currentSupply,\\n            roundStartBalance,\\n            singleShare\\n        );\\n\\n        // After closing the short, if the options expire in-the-money\\n        // vault pricePerShare would go down because vault's asset balance decreased.\\n        // This ensures that the newly-minted shares do not take on the loss.\\n        uint256 _mintShares =\\n            pendingAmount.mul(singleShare).div(newPricePerShare);\\n\\n        uint256 newSupply = currentSupply.add(_mintShares);\\n\\n        uint256 queuedWithdrawAmount =\\n            newSupply > 0\\n                ? uint256(queuedWithdrawShares).mul(currentBalance).div(\\n                    newSupply\\n                )\\n                : 0;\\n\\n        return (\\n            currentBalance.sub(queuedWithdrawAmount),\\n            newPricePerShare,\\n            _mintShares\\n        );\\n    }\\n\\n    // https://github.com/opynfinance/GammaProtocol/blob/master/contracts/Otoken.sol#L70\\n    uint256 private constant OTOKEN_DECIMALS = 10**8;\\n\\n    function createShort(\\n        address gammaController,\\n        address marginPool,\\n        address oTokenAddress,\\n        uint256 depositAmount\\n    ) external returns (uint256) {\\n        IController controller = IController(gammaController);\\n        uint256 newVaultID =\\n            (controller.getAccountVaultCounter(address(this))).add(1);\\n\\n        IOtoken oToken = IOtoken(oTokenAddress);\\n        address collateralAsset = oToken.collateralAsset();\\n\\n        uint256 collateralDecimals =\\n            uint256(IERC20Detailed(collateralAsset).decimals());\\n        uint256 mintAmount;\\n\\n        if (oToken.isPut()) {\\n            // For minting puts, there will be instances where the full depositAmount will not be used for minting.\\n            // This is because of an issue with precision.\\n            //\\n            // For ETH put options, we are calculating the mintAmount (10**8 decimals) using\\n            // the depositAmount (10**18 decimals), which will result in truncation of decimals when scaling down.\\n            // As a result, there will be tiny amounts of dust left behind in the Opyn vault when minting put otokens.\\n            //\\n            // For simplicity's sake, we do not refund the dust back to the address(this) on minting otokens.\\n            // We retain the dust in the vault so the calling contract can withdraw the\\n            // actual locked amount + dust at settlement.\\n            //\\n            // To test this behavior, we can console.log\\n            // MarginCalculatorInterface(0x7A48d10f372b3D7c60f6c9770B91398e4ccfd3C7).getExcessCollateral(vault)\\n            // to see how much dust (or excess collateral) is left behind.\\n            mintAmount = depositAmount\\n                .mul(OTOKEN_DECIMALS)\\n                .mul(DSWAD) // we use 10**18 to give extra precision\\n                .div(oToken.strikePrice().mul(10**(10 + collateralDecimals)));\\n        } else {\\n            mintAmount = depositAmount;\\n            uint256 scaleBy = 10**(collateralDecimals.sub(8)); // oTokens have 8 decimals\\n\\n            if (mintAmount > scaleBy && collateralDecimals > 8) {\\n                mintAmount = depositAmount.div(scaleBy); // scale down from 10**18 to 10**8\\n            }\\n        }\\n\\n        // double approve to fix non-compliant ERC20s\\n        IERC20 collateralToken = IERC20(collateralAsset);\\n        collateralToken.doubleApprove(marginPool, depositAmount);\\n\\n        IController.ActionArgs[] memory actions =\\n            new IController.ActionArgs[](3);\\n\\n        actions[0] = IController.ActionArgs(\\n            IController.ActionType.OpenVault,\\n            address(this), // owner\\n            address(this), // receiver -  we need this contract to receive so we can swap at the end\\n            address(0), // asset, otoken\\n            newVaultID, // vaultId\\n            0, // amount\\n            0, //index\\n            \\\"\\\" //data\\n        );\\n\\n        actions[1] = IController.ActionArgs(\\n            IController.ActionType.DepositCollateral,\\n            address(this), // owner\\n            address(this), // address to transfer from\\n            collateralAsset, // deposited asset\\n            newVaultID, // vaultId\\n            depositAmount, // amount\\n            0, //index\\n            \\\"\\\" //data\\n        );\\n\\n        actions[2] = IController.ActionArgs(\\n            IController.ActionType.MintShortOption,\\n            address(this), // owner\\n            address(this), // address to transfer to\\n            oTokenAddress, // deposited asset\\n            newVaultID, // vaultId\\n            mintAmount, // amount\\n            0, //index\\n            \\\"\\\" //data\\n        );\\n\\n        controller.operate(actions);\\n\\n        return mintAmount;\\n    }\\n\\n    /**\\n     * @notice Close the existing short otoken position. Currently this implementation is simple.\\n     * It closes the most recent vault opened by the contract. This assumes that the contract will\\n     * only have a single vault open at any given time. Since calling `closeShort` deletes vaults,\\n     * this assumption should hold.\\n     */\\n    function settleShort(address gammaController) external returns (uint256) {\\n        IController controller = IController(gammaController);\\n\\n        // gets the currently active vault ID\\n        uint256 vaultID = controller.getAccountVaultCounter(address(this));\\n\\n        GammaTypes.Vault memory vault =\\n            controller.getVault(address(this), vaultID);\\n\\n        require(vault.shortOtokens.length > 0, \\\"No short\\\");\\n\\n        IERC20 collateralToken = IERC20(vault.collateralAssets[0]);\\n\\n        uint256 startCollateralBalance =\\n            collateralToken.balanceOf(address(this));\\n\\n        // If it is after expiry, we need to settle the short position using the normal way\\n        // Delete the vault and withdraw all remaining collateral from the vault\\n        IController.ActionArgs[] memory actions =\\n            new IController.ActionArgs[](1);\\n\\n        actions[0] = IController.ActionArgs(\\n            IController.ActionType.SettleVault,\\n            address(this), // owner\\n            address(this), // address to transfer to\\n            address(0), // not used\\n            vaultID, // vaultId\\n            0, // not used\\n            0, // not used\\n            \\\"\\\" // not used\\n        );\\n\\n        controller.operate(actions);\\n\\n        uint256 endCollateralBalance = collateralToken.balanceOf(address(this));\\n\\n        return endCollateralBalance.sub(startCollateralBalance);\\n    }\\n\\n    /**\\n     * @notice Exercises the ITM option using existing long otoken position. Currently this implementation is simple.\\n     * It calls the `Redeem` action to claim the payout.\\n     */\\n    function settleLong(\\n        address gammaController,\\n        address oldOption,\\n        address asset\\n    ) external returns (uint256) {\\n        IController controller = IController(gammaController);\\n\\n        uint256 oldOptionBalance = IERC20(oldOption).balanceOf(address(this));\\n\\n        if (controller.getPayout(oldOption, oldOptionBalance) == 0) {\\n            return 0;\\n        }\\n\\n        uint256 startAssetBalance = IERC20(asset).balanceOf(address(this));\\n\\n        // If it is after expiry, we need to redeem the profits\\n        IController.ActionArgs[] memory actions =\\n            new IController.ActionArgs[](1);\\n\\n        actions[0] = IController.ActionArgs(\\n            IController.ActionType.Redeem,\\n            address(0), // not used\\n            address(this), // address to send profits to\\n            oldOption, // address of otoken\\n            0, // not used\\n            oldOptionBalance, // otoken balance\\n            0, // not used\\n            \\\"\\\" // not used\\n        );\\n\\n        controller.operate(actions);\\n\\n        uint256 endAssetBalance = IERC20(asset).balanceOf(address(this));\\n\\n        return endAssetBalance.sub(startAssetBalance);\\n    }\\n\\n    /**\\n     * @notice Burn the remaining oTokens left over from auction. Currently this implementation is simple.\\n     * It burns oTokens from the most recent vault opened by the contract. This assumes that the contract will\\n     * only have a single vault open at any given time.\\n     */\\n    function burnOtokens(address gammaController, uint256 amount)\\n        external\\n        returns (uint256)\\n    {\\n        IController controller = IController(gammaController);\\n\\n        // gets the currently active vault ID\\n        uint256 vaultID = controller.getAccountVaultCounter(address(this));\\n\\n        GammaTypes.Vault memory vault =\\n            controller.getVault(address(this), vaultID);\\n\\n        require(vault.shortOtokens.length > 0, \\\"No short\\\");\\n\\n        IERC20 collateralToken = IERC20(vault.collateralAssets[0]);\\n\\n        uint256 startCollateralBalance =\\n            collateralToken.balanceOf(address(this));\\n\\n        // Burning all otokens that are left from the gnosis auction,\\n        // then withdrawing the corresponding collateral amount from the vault\\n        IController.ActionArgs[] memory actions =\\n            new IController.ActionArgs[](2);\\n\\n        actions[0] = IController.ActionArgs(\\n            IController.ActionType.BurnShortOption,\\n            address(this), // owner\\n            address(this), // address to transfer to\\n            address(vault.shortOtokens[0]), // otoken address\\n            vaultID, // vaultId\\n            amount, // amount\\n            0, //index\\n            \\\"\\\" //data\\n        );\\n\\n        actions[1] = IController.ActionArgs(\\n            IController.ActionType.WithdrawCollateral,\\n            address(this), // owner\\n            address(this), // address to transfer to\\n            address(collateralToken), // withdrawn asset\\n            vaultID, // vaultId\\n            vault.collateralAmounts[0].mul(amount).div(vault.shortAmounts[0]), // amount\\n            0, //index\\n            \\\"\\\" //data\\n        );\\n\\n        controller.operate(actions);\\n\\n        uint256 endCollateralBalance = collateralToken.balanceOf(address(this));\\n\\n        return endCollateralBalance.sub(startCollateralBalance);\\n    }\\n\\n    function getVaultFees(\\n        Vault.VaultState storage vaultState,\\n        uint256 currentLockedBalance,\\n        uint256 performanceFeePercent,\\n        uint256 managementFeePercent\\n    )\\n        external\\n        view\\n        returns (\\n            uint256 performanceFee,\\n            uint256 managementFee,\\n            uint256 vaultFee\\n        )\\n    {\\n        uint256 prevLockedAmount = vaultState.lastLockedAmount;\\n        uint256 totalPending = vaultState.totalPending;\\n\\n        // Take performance fee and management fee ONLY if difference between\\n        // last week and this week's vault deposits, taking into account pending\\n        // deposits and withdrawals, is positive. If it is negative, last week's\\n        // option expired ITM past breakeven, and the vault took a loss so we\\n        // do not collect performance fee for last week\\n        if (currentLockedBalance.sub(totalPending) > prevLockedAmount) {\\n            performanceFee = currentLockedBalance\\n                .sub(totalPending)\\n                .sub(prevLockedAmount)\\n                .mul(performanceFeePercent)\\n                .div(100 * 10**6);\\n            managementFee = currentLockedBalance\\n                .sub(totalPending)\\n                .mul(managementFeePercent)\\n                .div(100 * 10**6);\\n\\n            vaultFee = performanceFee.add(managementFee);\\n        }\\n    }\\n\\n    function getOrDeployOtoken(\\n        CloseParams calldata closeParams,\\n        Vault.VaultParams calldata vaultParams,\\n        address underlying,\\n        address collateralAsset,\\n        uint256 strikePrice,\\n        uint256 expiry,\\n        bool isPut\\n    ) internal returns (address) {\\n        IOtokenFactory factory = IOtokenFactory(closeParams.OTOKEN_FACTORY);\\n\\n        address otokenFromFactory =\\n            factory.getOtoken(\\n                underlying,\\n                closeParams.USDC,\\n                collateralAsset,\\n                strikePrice,\\n                expiry,\\n                isPut\\n            );\\n\\n        if (otokenFromFactory != address(0)) {\\n            return otokenFromFactory;\\n        }\\n\\n        address otoken =\\n            factory.createOtoken(\\n                underlying,\\n                closeParams.USDC,\\n                collateralAsset,\\n                strikePrice,\\n                expiry,\\n                isPut\\n            );\\n\\n        verifyOtoken(\\n            otoken,\\n            vaultParams,\\n            collateralAsset,\\n            closeParams.USDC,\\n            closeParams.delay\\n        );\\n\\n        return otoken;\\n    }\\n\\n    function startAuction(GnosisAuction.AuctionDetails calldata auctionDetails)\\n        external\\n        returns (uint256)\\n    {\\n        return GnosisAuction.startAuction(auctionDetails);\\n    }\\n\\n    function placeBid(GnosisAuction.BidDetails calldata bidDetails)\\n        external\\n        returns (\\n            uint256,\\n            uint256,\\n            uint64\\n        )\\n    {\\n        return GnosisAuction.placeBid(bidDetails);\\n    }\\n\\n    function claimAuctionOtokens(\\n        Vault.AuctionSellOrder calldata auctionSellOrder,\\n        address gnosisEasyAuction,\\n        address counterpartyThetaVault\\n    ) external {\\n        GnosisAuction.claimAuctionOtokens(\\n            auctionSellOrder,\\n            gnosisEasyAuction,\\n            counterpartyThetaVault\\n        );\\n    }\\n\\n    function verifyConstructorParams(\\n        address owner,\\n        address keeper,\\n        address feeRecipient,\\n        uint256 performanceFee,\\n        string calldata tokenName,\\n        string calldata tokenSymbol,\\n        Vault.VaultParams calldata _vaultParams\\n    ) external pure {\\n        require(owner != address(0), \\\"!owner\\\");\\n        require(keeper != address(0), \\\"!keeper\\\");\\n        require(feeRecipient != address(0), \\\"!feeRecipient\\\");\\n        require(performanceFee < 100 * 10**6, \\\"Invalid performance fee\\\");\\n        require(bytes(tokenName).length > 0, \\\"!tokenName\\\");\\n        require(bytes(tokenSymbol).length > 0, \\\"!tokenSymbol\\\");\\n\\n        require(_vaultParams.asset != address(0), \\\"!asset\\\");\\n        require(_vaultParams.underlying != address(0), \\\"!underlying\\\");\\n        require(_vaultParams.minimumSupply > 0, \\\"!minimumSupply\\\");\\n        require(_vaultParams.cap > 0, \\\"!cap\\\");\\n    }\\n\\n    /**\\n     * @notice Gets the next options expiry timestamp\\n     * @param currentExpiry is the expiry timestamp of the current option\\n     * Reference: https://codereview.stackexchange.com/a/33532\\n     * Examples:\\n     * getNextFriday(week 1 thursday) -> week 1 friday\\n     * getNextFriday(week 1 friday) -> week 2 friday\\n     * getNextFriday(week 1 saturday) -> week 2 friday\\n     */\\n    function getNextFriday(uint256 currentExpiry)\\n        internal\\n        pure\\n        returns (uint256)\\n    {\\n        // dayOfWeek = 0 (sunday) - 6 (saturday)\\n        uint256 dayOfWeek = ((currentExpiry / 1 days) + 4) % 7;\\n        uint256 nextFriday = currentExpiry + ((7 + 5 - dayOfWeek) % 7) * 1 days;\\n        uint256 friday8am = nextFriday - (nextFriday % (24 hours)) + (8 hours);\\n\\n        // If the passed currentExpiry is day=Friday hour>8am, we simply increment it by a week to next Friday\\n        if (currentExpiry >= friday8am) {\\n            friday8am += 7 days;\\n        }\\n        return friday8am;\\n    }\\n\\n    function getPPS(\\n        uint256 currentSupply,\\n        uint256 roundStartBalance,\\n        uint256 singleShare\\n    ) internal pure returns (uint256 newPricePerShare) {\\n        newPricePerShare = currentSupply > 0\\n            ? singleShare.mul(roundStartBalance).div(currentSupply)\\n            : singleShare;\\n    }\\n\\n    /***\\n     * DSMath Copy paste\\n     */\\n\\n    uint256 constant DSWAD = 10**18;\\n\\n    function dsadd(uint256 x, uint256 y) private pure returns (uint256 z) {\\n        require((z = x + y) >= x, \\\"ds-math-add-overflow\\\");\\n    }\\n\\n    function dsmul(uint256 x, uint256 y) private pure returns (uint256 z) {\\n        require(y == 0 || (z = x * y) / y == x, \\\"ds-math-mul-overflow\\\");\\n    }\\n\\n    //rounds to zero if x*y < WAD / 2\\n    function dswdiv(uint256 x, uint256 y) private pure returns (uint256 z) {\\n        z = dsadd(dsmul(x, DSWAD), y / 2) / y;\\n    }\\n}\\n\",\"keccak256\":\"0x4056fd5f417a48c96d62d56bb73baca982455bca8ac84ad59aa2a213486cd6ae\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x613e08610026600b82828239805160001a60731461001957fe5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106100b35760003560e01c8063afc0a5db1161007b578063afc0a5db14610182578063d38e3197146101a4578063d8dfd0fe146101b7578063de8e3418146101d7578063eebc5ff4146101f7578063f60c4fc714610217576100b3565b80630692a4a6146100b857806307cc4239146100f15780632904c2391461011357806395a170d714610140578063a5a9dde71461016f575b600080fd5b8180156100c457600080fd5b506100d86100d3366004612e8f565b610237565b6040516100e89493929190613480565b60405180910390f35b8180156100fd57600080fd5b5061011161010c366004612f7b565b6104b6565b005b81801561011f57600080fd5b5061013361012e366004612d7f565b6104c6565b6040516100e89190613c02565b81801561014c57600080fd5b5061016061015b366004612fbf565b6109dc565b6040516100e893929190613cf5565b61011161017d366004612dcf565b6109f7565b61019561019036600461315b565b610bb3565b6040516100e893929190613cdf565b6101956101b2366004612fd1565b610cc1565b8180156101c357600080fd5b506101336101d2366004612cfd565b610d4d565b8180156101e357600080fd5b506101336101f2366004612d35565b6110cb565b81801561020357600080fd5b50610133610212366004612f60565b61140f565b81801561022357600080fd5b50610133610232366004612efd565b611420565b6000808080808061024e60608a0160408b01612cfd565b6001600160a01b0316141561026d5761026642611866565b90506102f8565b6102f561028060608a0160408b01612cfd565b6001600160a01b031663ade6e2aa6040518163ffffffff1660e01b815260040160206040518083038186803b1580156102b857600080fd5b505afa1580156102cc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102f09190613143565b611866565b90505b8a600061030860208a018a612f28565b9050600061031c60808b0160608c01612cfd565b9050600061033060608c0160408d01612cfd565b8a5490915061ffff1660808d0135146103c55760405163e436b89160e01b81526001600160a01b0385169063e436b891906103719088908790600401613cb7565b604080518083038186803b15801561038857600080fd5b505afa15801561039c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103c091906131c4565b61043b565b8b60a00135846001600160a01b03166312b495a86040518163ffffffff1660e01b815260040160206040518083038186803b15801561040357600080fd5b505afa158015610417573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061043b9190613143565b9097509550866104665760405162461bcd60e51b815260040161045d906139a2565b60405180910390fd5b6104758c8c84848b8a896118bc565b9850610482898f8f611a50565b9750600088116104a45760405162461bcd60e51b815260040161045d90613980565b50505050509650965096509692505050565b6104c1838383611c6f565b505050565b60008085905060006105556001836001600160a01b031663caa6d21a306040518263ffffffff1660e01b81526004016104ff9190613350565b60206040518083038186803b15801561051757600080fd5b505afa15801561052b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061054f9190613143565b90611dde565b905060008590506000816001600160a01b031663aabaecd66040518163ffffffff1660e01b815260040160206040518083038186803b15801561059757600080fd5b505afa1580156105ab573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105cf9190612d19565b90506000816001600160a01b031663313ce5676040518163ffffffff1660e01b815260040160206040518083038186803b15801561060c57600080fd5b505afa158015610620573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106449190613246565b60ff1690506000836001600160a01b031663f3c274a66040518163ffffffff1660e01b815260040160206040518083038186803b15801561068457600080fd5b505afa158015610698573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106bc9190612f44565b1561076c5761076561074583600a01600a0a866001600160a01b031663c52987cf6040518163ffffffff1660e01b815260040160206040518083038186803b15801561070757600080fd5b505afa15801561071b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061073f9190613143565b90611e03565b61075f670de0b6b3a764000061073f8c6305f5e100611e03565b90611e3d565b90506107a3565b5086600061077b836008611e6f565b600a0a9050808211801561078f5750600883115b156107a15761079e8982611e3d565b91505b505b826107b86001600160a01b0382168c8b611e97565b60408051600380825260808201909252606091816020015b6107d8612b33565b8152602001906001900390816107d0579050506040805161010081019091529091508060008152602001306001600160a01b03168152602001306001600160a01b0316815260200160006001600160a01b031681526020018881526020016000815260200160008152602001604051806020016040528060008152508152508160008151811061086457fe5b60209081029190910101526040805161010081019091528060058152602001306001600160a01b03168152602001306001600160a01b03168152602001866001600160a01b031681526020018881526020018b81526020016000815260200160405180602001604052806000815250815250816001815181106108e357fe5b60209081029190910101526040805161010081019091528060018152602001306001600160a01b03168152602001306001600160a01b031681526020018c6001600160a01b0316815260200188815260200184815260200160008152602001604051806020016040528060008152508152508160028151811061096257fe5b6020908102919091010152604051635b0bf86360e11b81526001600160a01b0389169063b617f0c6906109999084906004016134a6565b600060405180830381600087803b1580156109b357600080fd5b505af11580156109c7573d6000803e3d6000fd5b50949f9e505050505050505050505050505050565b60008060006109ea84611ed3565b9250925092509193909250565b6001600160a01b038916610a1d5760405162461bcd60e51b815260040161045d90613be2565b6001600160a01b038816610a435760405162461bcd60e51b815260040161045d9061382e565b6001600160a01b038716610a695760405162461bcd60e51b815260040161045d906138bd565b6305f5e1008610610a8c5760405162461bcd60e51b815260040161045d90613925565b83610aa95760405162461bcd60e51b815260040161045d9061395c565b81610ac65760405162461bcd60e51b815260040161045d9061358f565b6000610ad86060830160408401612cfd565b6001600160a01b03161415610aff5760405162461bcd60e51b815260040161045d90613a49565b6000610b116080830160608401612cfd565b6001600160a01b03161415610b385760405162461bcd60e51b815260040161045d90613b67565b6000610b4a60a08301608084016131e7565b66ffffffffffffff1611610b705760405162461bcd60e51b815260040161045d90613a69565b6000610b8260c0830160a0840161311c565b6001600160681b031611610ba85760405162461bcd60e51b815260040161045d906137cc565b505050505050505050565b600080600080876001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401610be59190613350565b60206040518083038186803b158015610bfd57600080fd5b505afa158015610c11573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c359190613143565b90506000610c438288611e6f565b905060ff8816600a0a610c578b8383612180565b94506000610c698661075f8b85611e03565b90506000610c778d83611dde565b90506000808211610c89576000610ca0565b610ca08261075f6001600160801b038d1689611e03565b9050610cac8682611e6f565b98509195505050505050955095509592505050565b8354600185015460009182918291600160781b90046001600160681b0316906001600160801b031681610cf48983611e6f565b1115610d4157610d1a6305f5e10061075f8961073f86610d148e88611e6f565b90611e6f565b9450610d326305f5e10061075f8861073f8c86611e6f565b9350610d3e8585611dde565b92505b50509450945094915050565b604051636553690d60e11b8152600090829082906001600160a01b0383169063caa6d21a90610d80903090600401613350565b60206040518083038186803b158015610d9857600080fd5b505afa158015610dac573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610dd09190613143565b9050610dda612b94565b60405163d99d13f560e01b81526001600160a01b0384169063d99d13f590610e089030908690600401613467565b60006040518083038186803b158015610e2057600080fd5b505afa158015610e34573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610e5c9190810190613002565b805151909150610e7e5760405162461bcd60e51b815260040161045d906139f0565b60008160400151600081518110610e9157fe5b602002602001015190506000816001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401610ec99190613350565b60206040518083038186803b158015610ee157600080fd5b505afa158015610ef5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f199190613143565b60408051600180825281830190925291925060609190816020015b610f3c612b33565b815260200190600190039081610f34579050506040805161010081019091529091508060078152602001306001600160a01b03168152602001306001600160a01b0316815260200160006001600160a01b0316815260200186815260200160008152602001600081526020016040518060200160405280600081525081525081600081518110610fc857fe5b6020908102919091010152604051635b0bf86360e11b81526001600160a01b0387169063b617f0c690610fff9084906004016134a6565b600060405180830381600087803b15801561101957600080fd5b505af115801561102d573d6000803e3d6000fd5b50506040516370a0823160e01b8152600092506001600160a01b03861691506370a0823190611060903090600401613350565b60206040518083038186803b15801561107857600080fd5b505afa15801561108c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110b09190613143565b90506110bc8184611e6f565b9750505050505050505b919050565b6040516370a0823160e01b8152600090849082906001600160a01b038616906370a08231906110fe903090600401613350565b60206040518083038186803b15801561111657600080fd5b505afa15801561112a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061114e9190613143565b60405163565eea1960e01b81529091506001600160a01b0383169063565eea199061117f9088908590600401613467565b60206040518083038186803b15801561119757600080fd5b505afa1580156111ab573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111cf9190613143565b6111de57600092505050611408565b6040516370a0823160e01b81526000906001600160a01b038616906370a082319061120d903090600401613350565b60206040518083038186803b15801561122557600080fd5b505afa158015611239573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061125d9190613143565b60408051600180825281830190925291925060609190816020015b611280612b33565b81526020019060019003908161127857905050604080516101008101909152909150806008815260200160006001600160a01b03168152602001306001600160a01b03168152602001886001600160a01b031681526020016000815260200184815260200160008152602001604051806020016040528060008152508152508160008151811061130c57fe5b6020908102919091010152604051635b0bf86360e11b81526001600160a01b0385169063b617f0c6906113439084906004016134a6565b600060405180830381600087803b15801561135d57600080fd5b505af1158015611371573d6000803e3d6000fd5b50506040516370a0823160e01b8152600092506001600160a01b03891691506370a08231906113a4903090600401613350565b60206040518083038186803b1580156113bc57600080fd5b505afa1580156113d0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113f49190613143565b90506114008184611e6f565b955050505050505b9392505050565b600061141a8261219d565b92915050565b604051636553690d60e11b8152600090839082906001600160a01b0383169063caa6d21a90611453903090600401613350565b60206040518083038186803b15801561146b57600080fd5b505afa15801561147f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114a39190613143565b90506114ad612b94565b60405163d99d13f560e01b81526001600160a01b0384169063d99d13f5906114db9030908690600401613467565b60006040518083038186803b1580156114f357600080fd5b505afa158015611507573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261152f9190810190613002565b8051519091506115515760405162461bcd60e51b815260040161045d906139f0565b6000816040015160008151811061156457fe5b602002602001015190506000816001600160a01b03166370a08231306040518263ffffffff1660e01b815260040161159c9190613350565b60206040518083038186803b1580156115b457600080fd5b505afa1580156115c8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115ec9190613143565b60408051600280825260608281019093529293509091816020015b61160f612b33565b815260200190600190039081611607579050506040805161010081019091529091508060028152306020820181905260408201528551805160609092019160009061165657fe5b60200260200101516001600160a01b0316815260200186815260200189815260200160008152602001604051806020016040528060008152508152508160008151811061169f57fe5b60209081029190910101526040805161010081019091528060068152602001306001600160a01b03168152602001306001600160a01b03168152602001846001600160a01b03168152602001868152602001611738866060015160008151811061170557fe5b602002602001015161075f8c8960a0015160008151811061172257fe5b6020026020010151611e0390919063ffffffff16565b815260200160008152602001604051806020016040528060008152508152508160018151811061176457fe5b6020908102919091010152604051635b0bf86360e11b81526001600160a01b0387169063b617f0c69061179b9084906004016134a6565b600060405180830381600087803b1580156117b557600080fd5b505af11580156117c9573d6000803e3d6000fd5b50506040516370a0823160e01b8152600092506001600160a01b03861691506370a08231906117fc903090600401613350565b60206040518083038186803b15801561181457600080fd5b505afa158015611828573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061184c9190613143565b90506118588184611e6f565b9a9950505050505050505050565b60008060076004620151808504010690506000600782600c038161188657fe5b06620151800284019050600062015180828161189e57fe5b0682036170800190508085106118b45762093a80015b949350505050565b6000806118cc60208a018a612cfd565b905060006001600160a01b0382166311547054896118f060408e0160208f01612cfd565b8a8a8a8a6040518763ffffffff1660e01b81526004016119159695949392919061337e565b60206040518083038186803b15801561192d57600080fd5b505afa158015611941573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906119659190612d19565b90506001600160a01b0381161561197f579150611a459050565b6000826001600160a01b031663c09746308a8d60200160208101906119a49190612cfd565b8b8b8b8b6040518763ffffffff1660e01b81526004016119c99695949392919061337e565b602060405180830381600087803b1580156119e357600080fd5b505af11580156119f7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a1b9190612d19565b9050611a40818b8a8e6020016020810190611a369190612cfd565b8f6060013561240f565b925050505b979650505050505050565b6000808490506000849050806001600160a01b031663fc3d42e8836001600160a01b031663c52987cf6040518163ffffffff1660e01b815260040160206040518083038186803b158015611aa357600080fd5b505afa158015611ab7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611adb9190613143565b846001600160a01b031663ade6e2aa6040518163ffffffff1660e01b815260040160206040518083038186803b158015611b1457600080fd5b505afa158015611b28573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b4c9190613143565b856001600160a01b031663f3c274a66040518163ffffffff1660e01b815260040160206040518083038186803b158015611b8557600080fd5b505afa158015611b99573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bbd9190612f44565b6040518463ffffffff1660e01b8152600401611bdb93929190613cc7565b60206040518083038186803b158015611bf357600080fd5b505afa158015611c07573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611c2b9190613143565b9250611c3d6103e861075f8587611e03565b92506001600160601b03831115611c665760405162461bcd60e51b815260040161045d90613876565b50509392505050565b6000611ca6611c84606086016040870161320e565b611c946040870160208801613262565b611ca16020880188613262565b612765565b60408051600180825281830190925291925060609190602080830190803683370190505090508181600081518110611cda57fe5b602002602001018181525050836001600160a01b0316637882deaf846001600160a01b031663432833a66040518163ffffffff1660e01b815260040160206040518083038186803b158015611d2e57600080fd5b505afa158015611d42573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611d669190613143565b836040518363ffffffff1660e01b8152600401611d84929190613c37565b6040805180830381600087803b158015611d9d57600080fd5b505af1158015611db1573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611dd591906131c4565b50505050505050565b6000828201838110156114085760405162461bcd60e51b815260040161045d90613680565b600082611e125750600061141a565b82820282848281611e1f57fe5b04146114085760405162461bcd60e51b815260040161045d906138e4565b6000808211611e5e5760405162461bcd60e51b815260040161045d9061371c565b818381611e6757fe5b049392505050565b600082821115611e915760405162461bcd60e51b815260040161045d906136e5565b50900390565b6001600160a01b03831673dac17f958d2ee523a2206206994597c13d831ec71415611ec857611ec88383600061279d565b6104c183838361279d565b60008080611eef61271061075f60a087013560c0880135611e03565b9250611f146060850135600a0a61075f6305f5e10061073f60e0890135838986611e03565b91506001600160601b03831115611f3d5760405162461bcd60e51b815260040161045d906137ea565b6001600160601b03821115611f645760405162461bcd60e51b815260040161045d9061363d565b611f98611f776040860160208701612cfd565b84611f886060880160408901612cfd565b6001600160a01b0316919061279d565b6040805160018082528183019092526060916020808301908036833750506040805160018082528183019092529293506060929150602080830190803683375050604080516001808252818301909252929350606092915060208083019080368337019050509050848360008151811061200e57fe5b60200260200101906001600160601b031690816001600160601b031681525050858260008151811061203c57fe5b60200260200101906001600160601b031690816001600160601b031681525050600160001b8160008151811061206e57fe5b60200260200101818152505086602001602081019061208d9190612cfd565b6001600160a01b031663d225269c88608001358585856040518563ffffffff1660e01b81526004016120c29493929190613c50565b602060405180830381600087803b1580156120dc57600080fd5b505af11580156120f0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612114919061322a565b93507fa227b5eceb2bd983c0ed9dd34c971be74cd4f386b289d4415602a1fbcf2cb53b608088013561214960208a018a612cfd565b888861215d6101208d016101008e01612cfd565b60405161216e959493929190613c0b565b60405180910390a15050509193909250565b600080841161218f57816118b4565b6118b48461075f8486611e03565b6000806121b56121b06020850185612cfd565b612897565b905061225f6121ca6040850160208601612cfd565b6121d76020860186612cfd565b6001600160a01b03166370a08231306040518263ffffffff1660e01b81526004016122029190613350565b60206040518083038186803b15801561221a57600080fd5b505afa15801561222e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906122529190613143565b611f886020870187612cfd565b600061229261227360126060870135611e6f565b600a0a61075f612288856402540be400611e03565b876080013561293f565b90506001600160601b038111156122bb5760405162461bcd60e51b815260040161045d90613b0a565b6122cb6040850160208601612cfd565b6001600160a01b0316630a4cd6c96122e66020870187612cfd565b6122f66060880160408901612cfd565b61230f61230860a08a01356002611e3d565b4290611dde565b61231d4260a08b0135611dde565b878760016000806000604051806020016040528060008152506040518c63ffffffff1660e01b815260040161235c9b9a999897969594939291906133e2565b602060405180830381600087803b15801561237657600080fd5b505af115801561238a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906123ae9190613143565b92507f95ad3b10488285d6307fda297f633faaf2a0d713c08ebe5f49c1b9255b01d29e6123de6020860186612cfd565b6123ee6060870160408801612cfd565b853360405161240094939291906133b7565b60405180910390a15050919050565b6001600160a01b0385166124355760405162461bcd60e51b815260040161045d906139c8565b846124436020860186612f28565b1515816001600160a01b031663f3c274a66040518163ffffffff1660e01b815260040160206040518083038186803b15801561247e57600080fd5b505afa158015612492573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906124b69190612f44565b1515146124d55760405162461bcd60e51b815260040161045d9061384f565b6124e56080860160608701612cfd565b6001600160a01b0316816001600160a01b0316637158da7c6040518163ffffffff1660e01b815260040160206040518083038186803b15801561252757600080fd5b505afa15801561253b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061255f9190612d19565b6001600160a01b0316146125855760405162461bcd60e51b815260040161045d90613753565b836001600160a01b0316816001600160a01b031663aabaecd66040518163ffffffff1660e01b815260040160206040518083038186803b1580156125c857600080fd5b505afa1580156125dc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906126009190612d19565b6001600160a01b0316146126265760405162461bcd60e51b815260040161045d90613adb565b826001600160a01b0316816001600160a01b03166317d69bc86040518163ffffffff1660e01b815260040160206040518083038186803b15801561266957600080fd5b505afa15801561267d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906126a19190612d19565b6001600160a01b0316146126c75760405162461bcd60e51b815260040161045d906135b5565b60006126d34284611dde565b905080826001600160a01b031663ade6e2aa6040518163ffffffff1660e01b815260040160206040518083038186803b15801561270f57600080fd5b505afa158015612723573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906127479190613143565b1015611dd55760405162461bcd60e51b815260040161045d906135e2565b6001600160c01b031960c084901b166bffffffffffffffffffffffff60601b606084901b16016001600160601b038216019392505050565b8015806128255750604051636eb1769f60e11b81526001600160a01b0384169063dd62ed3e906127d39030908690600401613364565b60206040518083038186803b1580156127eb57600080fd5b505afa1580156127ff573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906128239190613143565b155b6128415760405162461bcd60e51b815260040161045d90613b8c565b6104c18363095ea7b360e01b8484604051602401612860929190613467565b60408051601f198184030181529190526020810180516001600160e01b03166001600160e01b03199093169290921790915261296c565b6040516370a0823160e01b81526000906001600160a01b038316906370a08231906128c6903090600401613350565b60206040518083038186803b1580156128de57600080fd5b505afa1580156128f2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906129169190613143565b90506001600160601b038111156110c65760405162461bcd60e51b815260040161045d90613782565b6000670de0b6b3a764000061296561295785856129fb565b6706f05b59d3b20000612a32565b81611e6757fe5b60606129c1826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b0316612a559092919063ffffffff16565b8051909150156104c157808060200190518101906129df9190612f44565b6104c15760405162461bcd60e51b815260040161045d90613a91565b6000811580612a1657505080820282828281612a1357fe5b04145b61141a5760405162461bcd60e51b815260040161045d9061360f565b8082018281101561141a5760405162461bcd60e51b815260040161045d906136b7565b60606118b4848460008585612a6985612af4565b612a855760405162461bcd60e51b815260040161045d90613a12565b60006060866001600160a01b03168587604051612aa29190613334565b60006040518083038185875af1925050503d8060008114612adf576040519150601f19603f3d011682016040523d82523d6000602084013e612ae4565b606091505b5091509150611a45828286612afa565b3b151590565b60608315612b09575081611408565b825115612b195782518084602001fd5b8160405162461bcd60e51b815260040161045d919061357c565b604080516101008101909152806000815260200160006001600160a01b0316815260200160006001600160a01b0316815260200160006001600160a01b03168152602001600081526020016000815260200160008152602001606081525090565b6040518060c001604052806060815260200160608152602001606081526020016060815260200160608152602001606081525090565b600082601f830112612bda578081fd5b8151612bed612be882613d39565b613d15565b818152915060208083019084810181840286018201871015612c0e57600080fd5b60005b84811015612c36578151612c2481613d87565b84529282019290820190600101612c11565b505050505092915050565b600082601f830112612c51578081fd5b8151612c5f612be882613d39565b818152915060208083019084810181840286018201871015612c8057600080fd5b60005b84811015612c3657815184529282019290820190600101612c83565b60008083601f840112612cb0578182fd5b50813567ffffffffffffffff811115612cc7578182fd5b602083019150836020828501011115612cdf57600080fd5b9250929050565b600060c08284031215612cf7578081fd5b50919050565b600060208284031215612d0e578081fd5b813561140881613d87565b600060208284031215612d2a578081fd5b815161140881613d87565b600080600060608486031215612d49578182fd5b8335612d5481613d87565b92506020840135612d6481613d87565b91506040840135612d7481613d87565b809150509250925092565b60008060008060808587031215612d94578081fd5b8435612d9f81613d87565b93506020850135612daf81613d87565b92506040850135612dbf81613d87565b9396929550929360600135925050565b60008060008060008060008060006101808a8c031215612ded578687fd5b8935612df881613d87565b985060208a0135612e0881613d87565b975060408a0135612e1881613d87565b965060608a0135955060808a013567ffffffffffffffff80821115612e3b578687fd5b612e478d838e01612c9f565b909750955060a08c0135915080821115612e5f578485fd5b50612e6c8c828d01612c9f565b9094509250612e8090508b60c08c01612ce6565b90509295985092959850929598565b6000806000806000806102008789031215612ea8578384fd5b8635612eb381613d87565b95506020870135612ec381613d87565b945060408701359350612ed98860608901612ce6565b9250612ee9886101208901612ce6565b91506101e087013590509295509295509295565b60008060408385031215612f0f578182fd5b8235612f1a81613d87565b946020939093013593505050565b600060208284031215612f39578081fd5b813561140881613d9f565b600060208284031215612f55578081fd5b815161140881613d9f565b600060c08284031215612f71578081fd5b6114088383612ce6565b600080600083850360a0811215612f90578182fd5b6060811215612f9d578182fd5b508392506060840135612faf81613d87565b91506080840135612d7481613d87565b60006101208284031215612cf7578081fd5b60008060008060808587031215612fe6578182fd5b5050823594602084013594506040840135936060013592509050565b600060208284031215613013578081fd5b815167ffffffffffffffff8082111561302a578283fd5b9083019060c0828603121561303d578283fd5b61304760c0613d15565b825182811115613055578485fd5b61306187828601612bca565b825250602083015182811115613075578485fd5b61308187828601612bca565b602083015250604083015182811115613098578485fd5b6130a487828601612bca565b6040830152506060830151828111156130bb578485fd5b6130c787828601612c41565b6060830152506080830151828111156130de578485fd5b6130ea87828601612c41565b60808301525060a083015182811115613101578485fd5b61310d87828601612c41565b60a08301525095945050505050565b60006020828403121561312d578081fd5b81356001600160681b0381168114611408578182fd5b600060208284031215613154578081fd5b5051919050565b600080600080600060a08688031215613172578283fd5b85359450602086013561318481613d87565b9350604086013561319481613dc3565b92506060860135915060808601356001600160801b03811681146131b6578182fd5b809150509295509295909350565b600080604083850312156131d6578182fd5b505080516020909101519092909150565b6000602082840312156131f8578081fd5b813566ffffffffffffff81168114611408578182fd5b60006020828403121561321f578081fd5b813561140881613dad565b60006020828403121561323b578081fd5b815161140881613dad565b600060208284031215613257578081fd5b815161140881613dc3565b600060208284031215613273578081fd5b81356001600160601b0381168114611408578182fd5b6001600160a01b03169052565b6000815180845260208085019450808401835b838110156132c5578151875295820195908201906001016132a9565b509495945050505050565b6000815180845260208085019450808401835b838110156132c55781516001600160601b0316875295820195908201906001016132e3565b60008151808452613320816020860160208601613d57565b601f01601f19169290920160200192915050565b60008251613346818460208701613d57565b9190910192915050565b6001600160a01b0391909116815260200190565b6001600160a01b0392831681529116602082015260400190565b6001600160a01b03968716815294861660208601529290941660408401526060830152608082019290925290151560a082015260c00190565b6001600160a01b03948516815292841660208401526040830191909152909116606082015260800190565b6001600160a01b038c811682528b81166020830152604082018b9052606082018a90526001600160601b038981166080840152881660a083015260c0820187905260e082018690528415156101008301528316610120820152610160610140820181905260009061345583820185613308565b9e9d5050505050505050505050505050565b6001600160a01b03929092168252602082015260400190565b6001600160a01b0394909416845260208401929092526040830152606082015260800190565b60208082528251828201819052600091906040908185019080840286018301878501865b8381101561356e57603f1989840301855281516101008151600a81106134ec57fe5b8552818901516134fe8a870182613289565b508782015161350f89870182613289565b5060608083015161352282880182613289565b50506080828101519086015260a0808301519086015260c0808301519086015260e09182015191850181905261355a81860183613308565b9689019694505050908601906001016134ca565b509098975050505050505050565b6000602082526114086020830184613308565b6020808252600c908201526b085d1bdad95b94de5b589bdb60a21b604082015260600190565b602080825260139082015272737472696b65417373657420213d205553444360681b604082015260600190565b602080825260139082015272457870697279206265666f72652064656c617960681b604082015260600190565b60208082526014908201527364732d6d6174682d6d756c2d6f766572666c6f7760601b604082015260600190565b60208082526023908201527f627579416d6f756e74203e20747970652875696e74393629206d61782076616c60408201526275652160e81b606082015260800190565b6020808252601b908201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604082015260600190565b60208082526014908201527364732d6d6174682d6164642d6f766572666c6f7760601b604082015260600190565b6020808252601e908201527f536166654d6174683a207375627472616374696f6e206f766572666c6f770000604082015260600190565b6020808252601a908201527f536166654d6174683a206469766973696f6e206279207a65726f000000000000604082015260600190565b60208082526015908201527415dc9bdb99c81d5b99195c9b1e5a5b99d05cdcd95d605a1b604082015260600190565b6020808252602a908201527f6f546f6b656e53656c6c416d6f756e74203e20747970652875696e74393629206040820152696d61782076616c75652160b01b606082015260800190565b6020808252600490820152630216361760e41b604082015260600190565b60208082526024908201527f73656c6c416d6f756e74203e20747970652875696e74393629206d61782076616040820152636c75652160e01b606082015260800190565b60208082526007908201526610b5b2b2b832b960c91b604082015260600190565b6020808252600d908201526c0a8f2e0ca40dad2e6dac2e8c6d609b1b604082015260600190565b60208082526027908201527f6f7074696f6e5072656d69756d203e20747970652875696e74393629206d61786040820152662076616c75652160c81b606082015260800190565b6020808252600d908201526c08599959549958da5c1a595b9d609a1b604082015260600190565b60208082526021908201527f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f6040820152607760f81b606082015260800190565b60208082526017908201527f496e76616c696420706572666f726d616e636520666565000000000000000000604082015260600190565b6020808252600a908201526921746f6b656e4e616d6560b01b604082015260600190565b602080825260089082015267217072656d69756d60c01b604082015260600190565b6020808252600c908201526b21737472696b65507269636560a01b604082015260600190565b6020808252600e908201526d216f746f6b656e4164647265737360901b604082015260600190565b602080825260089082015267139bc81cda1bdc9d60c21b604082015260600190565b6020808252601d908201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604082015260600190565b60208082526006908201526508585cdcd95d60d21b604082015260600190565b6020808252600e908201526d216d696e696d756d537570706c7960901b604082015260600190565b6020808252602a908201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6040820152691bdd081cdd58d8d9595960b21b606082015260800190565b60208082526015908201527415dc9bdb99c818dbdb1b185d195c985b105cdcd95d605a1b604082015260600190565b6020808252603a908201527f6f7074696f6e5072656d69756d202a206f546f6b656e53656c6c416d6f756e7460408201527f203e20747970652875696e74393629206d61782076616c756521000000000000606082015260800190565b6020808252600b908201526a21756e6465726c79696e6760a81b604082015260600190565b60208082526036908201527f5361666545524332303a20617070726f76652066726f6d206e6f6e2d7a65726f60408201527520746f206e6f6e2d7a65726f20616c6c6f77616e636560501b606082015260800190565b60208082526006908201526510b7bbb732b960d11b604082015260600190565b90815260200190565b9485526001600160a01b0393841660208601526040850192909252606084015216608082015260a00190565b6000838252604060208301526118b46040830184613296565b600085825260a06020830152613c6960a08301866132d0565b8281036040840152613c7b81866132d0565b90508281036060840152613c8f8185613296565b83810360809094019390935250506002815261060f60f31b6020820152604001949350505050565b9182521515602082015260400190565b92835260208301919091521515604082015260600190565b9283526020830191909152604082015260600190565b928352602083019190915267ffffffffffffffff16604082015260600190565b60405181810167ffffffffffffffff81118282101715613d3157fe5b604052919050565b600067ffffffffffffffff821115613d4d57fe5b5060209081020190565b60005b83811015613d72578181015183820152602001613d5a565b83811115613d81576000848401525b50505050565b6001600160a01b0381168114613d9c57600080fd5b50565b8015158114613d9c57600080fd5b67ffffffffffffffff81168114613d9c57600080fd5b60ff81168114613d9c57600080fdfea264697066735822122065d9b0ff2afe4d1f094ddbc15b91cbfa88bf4559f5d128914ed01ff08956682864736f6c63430007030033",
  "deployedBytecode": "0x73000000000000000000000000000000000000000030146080604052600436106100b35760003560e01c8063afc0a5db1161007b578063afc0a5db14610182578063d38e3197146101a4578063d8dfd0fe146101b7578063de8e3418146101d7578063eebc5ff4146101f7578063f60c4fc714610217576100b3565b80630692a4a6146100b857806307cc4239146100f15780632904c2391461011357806395a170d714610140578063a5a9dde71461016f575b600080fd5b8180156100c457600080fd5b506100d86100d3366004612e8f565b610237565b6040516100e89493929190613480565b60405180910390f35b8180156100fd57600080fd5b5061011161010c366004612f7b565b6104b6565b005b81801561011f57600080fd5b5061013361012e366004612d7f565b6104c6565b6040516100e89190613c02565b81801561014c57600080fd5b5061016061015b366004612fbf565b6109dc565b6040516100e893929190613cf5565b61011161017d366004612dcf565b6109f7565b61019561019036600461315b565b610bb3565b6040516100e893929190613cdf565b6101956101b2366004612fd1565b610cc1565b8180156101c357600080fd5b506101336101d2366004612cfd565b610d4d565b8180156101e357600080fd5b506101336101f2366004612d35565b6110cb565b81801561020357600080fd5b50610133610212366004612f60565b61140f565b81801561022357600080fd5b50610133610232366004612efd565b611420565b6000808080808061024e60608a0160408b01612cfd565b6001600160a01b0316141561026d5761026642611866565b90506102f8565b6102f561028060608a0160408b01612cfd565b6001600160a01b031663ade6e2aa6040518163ffffffff1660e01b815260040160206040518083038186803b1580156102b857600080fd5b505afa1580156102cc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102f09190613143565b611866565b90505b8a600061030860208a018a612f28565b9050600061031c60808b0160608c01612cfd565b9050600061033060608c0160408d01612cfd565b8a5490915061ffff1660808d0135146103c55760405163e436b89160e01b81526001600160a01b0385169063e436b891906103719088908790600401613cb7565b604080518083038186803b15801561038857600080fd5b505afa15801561039c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103c091906131c4565b61043b565b8b60a00135846001600160a01b03166312b495a86040518163ffffffff1660e01b815260040160206040518083038186803b15801561040357600080fd5b505afa158015610417573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061043b9190613143565b9097509550866104665760405162461bcd60e51b815260040161045d906139a2565b60405180910390fd5b6104758c8c84848b8a896118bc565b9850610482898f8f611a50565b9750600088116104a45760405162461bcd60e51b815260040161045d90613980565b50505050509650965096509692505050565b6104c1838383611c6f565b505050565b60008085905060006105556001836001600160a01b031663caa6d21a306040518263ffffffff1660e01b81526004016104ff9190613350565b60206040518083038186803b15801561051757600080fd5b505afa15801561052b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061054f9190613143565b90611dde565b905060008590506000816001600160a01b031663aabaecd66040518163ffffffff1660e01b815260040160206040518083038186803b15801561059757600080fd5b505afa1580156105ab573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105cf9190612d19565b90506000816001600160a01b031663313ce5676040518163ffffffff1660e01b815260040160206040518083038186803b15801561060c57600080fd5b505afa158015610620573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106449190613246565b60ff1690506000836001600160a01b031663f3c274a66040518163ffffffff1660e01b815260040160206040518083038186803b15801561068457600080fd5b505afa158015610698573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106bc9190612f44565b1561076c5761076561074583600a01600a0a866001600160a01b031663c52987cf6040518163ffffffff1660e01b815260040160206040518083038186803b15801561070757600080fd5b505afa15801561071b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061073f9190613143565b90611e03565b61075f670de0b6b3a764000061073f8c6305f5e100611e03565b90611e3d565b90506107a3565b5086600061077b836008611e6f565b600a0a9050808211801561078f5750600883115b156107a15761079e8982611e3d565b91505b505b826107b86001600160a01b0382168c8b611e97565b60408051600380825260808201909252606091816020015b6107d8612b33565b8152602001906001900390816107d0579050506040805161010081019091529091508060008152602001306001600160a01b03168152602001306001600160a01b0316815260200160006001600160a01b031681526020018881526020016000815260200160008152602001604051806020016040528060008152508152508160008151811061086457fe5b60209081029190910101526040805161010081019091528060058152602001306001600160a01b03168152602001306001600160a01b03168152602001866001600160a01b031681526020018881526020018b81526020016000815260200160405180602001604052806000815250815250816001815181106108e357fe5b60209081029190910101526040805161010081019091528060018152602001306001600160a01b03168152602001306001600160a01b031681526020018c6001600160a01b0316815260200188815260200184815260200160008152602001604051806020016040528060008152508152508160028151811061096257fe5b6020908102919091010152604051635b0bf86360e11b81526001600160a01b0389169063b617f0c6906109999084906004016134a6565b600060405180830381600087803b1580156109b357600080fd5b505af11580156109c7573d6000803e3d6000fd5b50949f9e505050505050505050505050505050565b60008060006109ea84611ed3565b9250925092509193909250565b6001600160a01b038916610a1d5760405162461bcd60e51b815260040161045d90613be2565b6001600160a01b038816610a435760405162461bcd60e51b815260040161045d9061382e565b6001600160a01b038716610a695760405162461bcd60e51b815260040161045d906138bd565b6305f5e1008610610a8c5760405162461bcd60e51b815260040161045d90613925565b83610aa95760405162461bcd60e51b815260040161045d9061395c565b81610ac65760405162461bcd60e51b815260040161045d9061358f565b6000610ad86060830160408401612cfd565b6001600160a01b03161415610aff5760405162461bcd60e51b815260040161045d90613a49565b6000610b116080830160608401612cfd565b6001600160a01b03161415610b385760405162461bcd60e51b815260040161045d90613b67565b6000610b4a60a08301608084016131e7565b66ffffffffffffff1611610b705760405162461bcd60e51b815260040161045d90613a69565b6000610b8260c0830160a0840161311c565b6001600160681b031611610ba85760405162461bcd60e51b815260040161045d906137cc565b505050505050505050565b600080600080876001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401610be59190613350565b60206040518083038186803b158015610bfd57600080fd5b505afa158015610c11573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c359190613143565b90506000610c438288611e6f565b905060ff8816600a0a610c578b8383612180565b94506000610c698661075f8b85611e03565b90506000610c778d83611dde565b90506000808211610c89576000610ca0565b610ca08261075f6001600160801b038d1689611e03565b9050610cac8682611e6f565b98509195505050505050955095509592505050565b8354600185015460009182918291600160781b90046001600160681b0316906001600160801b031681610cf48983611e6f565b1115610d4157610d1a6305f5e10061075f8961073f86610d148e88611e6f565b90611e6f565b9450610d326305f5e10061075f8861073f8c86611e6f565b9350610d3e8585611dde565b92505b50509450945094915050565b604051636553690d60e11b8152600090829082906001600160a01b0383169063caa6d21a90610d80903090600401613350565b60206040518083038186803b158015610d9857600080fd5b505afa158015610dac573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610dd09190613143565b9050610dda612b94565b60405163d99d13f560e01b81526001600160a01b0384169063d99d13f590610e089030908690600401613467565b60006040518083038186803b158015610e2057600080fd5b505afa158015610e34573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610e5c9190810190613002565b805151909150610e7e5760405162461bcd60e51b815260040161045d906139f0565b60008160400151600081518110610e9157fe5b602002602001015190506000816001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401610ec99190613350565b60206040518083038186803b158015610ee157600080fd5b505afa158015610ef5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f199190613143565b60408051600180825281830190925291925060609190816020015b610f3c612b33565b815260200190600190039081610f34579050506040805161010081019091529091508060078152602001306001600160a01b03168152602001306001600160a01b0316815260200160006001600160a01b0316815260200186815260200160008152602001600081526020016040518060200160405280600081525081525081600081518110610fc857fe5b6020908102919091010152604051635b0bf86360e11b81526001600160a01b0387169063b617f0c690610fff9084906004016134a6565b600060405180830381600087803b15801561101957600080fd5b505af115801561102d573d6000803e3d6000fd5b50506040516370a0823160e01b8152600092506001600160a01b03861691506370a0823190611060903090600401613350565b60206040518083038186803b15801561107857600080fd5b505afa15801561108c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110b09190613143565b90506110bc8184611e6f565b9750505050505050505b919050565b6040516370a0823160e01b8152600090849082906001600160a01b038616906370a08231906110fe903090600401613350565b60206040518083038186803b15801561111657600080fd5b505afa15801561112a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061114e9190613143565b60405163565eea1960e01b81529091506001600160a01b0383169063565eea199061117f9088908590600401613467565b60206040518083038186803b15801561119757600080fd5b505afa1580156111ab573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111cf9190613143565b6111de57600092505050611408565b6040516370a0823160e01b81526000906001600160a01b038616906370a082319061120d903090600401613350565b60206040518083038186803b15801561122557600080fd5b505afa158015611239573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061125d9190613143565b60408051600180825281830190925291925060609190816020015b611280612b33565b81526020019060019003908161127857905050604080516101008101909152909150806008815260200160006001600160a01b03168152602001306001600160a01b03168152602001886001600160a01b031681526020016000815260200184815260200160008152602001604051806020016040528060008152508152508160008151811061130c57fe5b6020908102919091010152604051635b0bf86360e11b81526001600160a01b0385169063b617f0c6906113439084906004016134a6565b600060405180830381600087803b15801561135d57600080fd5b505af1158015611371573d6000803e3d6000fd5b50506040516370a0823160e01b8152600092506001600160a01b03891691506370a08231906113a4903090600401613350565b60206040518083038186803b1580156113bc57600080fd5b505afa1580156113d0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113f49190613143565b90506114008184611e6f565b955050505050505b9392505050565b600061141a8261219d565b92915050565b604051636553690d60e11b8152600090839082906001600160a01b0383169063caa6d21a90611453903090600401613350565b60206040518083038186803b15801561146b57600080fd5b505afa15801561147f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114a39190613143565b90506114ad612b94565b60405163d99d13f560e01b81526001600160a01b0384169063d99d13f5906114db9030908690600401613467565b60006040518083038186803b1580156114f357600080fd5b505afa158015611507573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261152f9190810190613002565b8051519091506115515760405162461bcd60e51b815260040161045d906139f0565b6000816040015160008151811061156457fe5b602002602001015190506000816001600160a01b03166370a08231306040518263ffffffff1660e01b815260040161159c9190613350565b60206040518083038186803b1580156115b457600080fd5b505afa1580156115c8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115ec9190613143565b60408051600280825260608281019093529293509091816020015b61160f612b33565b815260200190600190039081611607579050506040805161010081019091529091508060028152306020820181905260408201528551805160609092019160009061165657fe5b60200260200101516001600160a01b0316815260200186815260200189815260200160008152602001604051806020016040528060008152508152508160008151811061169f57fe5b60209081029190910101526040805161010081019091528060068152602001306001600160a01b03168152602001306001600160a01b03168152602001846001600160a01b03168152602001868152602001611738866060015160008151811061170557fe5b602002602001015161075f8c8960a0015160008151811061172257fe5b6020026020010151611e0390919063ffffffff16565b815260200160008152602001604051806020016040528060008152508152508160018151811061176457fe5b6020908102919091010152604051635b0bf86360e11b81526001600160a01b0387169063b617f0c69061179b9084906004016134a6565b600060405180830381600087803b1580156117b557600080fd5b505af11580156117c9573d6000803e3d6000fd5b50506040516370a0823160e01b8152600092506001600160a01b03861691506370a08231906117fc903090600401613350565b60206040518083038186803b15801561181457600080fd5b505afa158015611828573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061184c9190613143565b90506118588184611e6f565b9a9950505050505050505050565b60008060076004620151808504010690506000600782600c038161188657fe5b06620151800284019050600062015180828161189e57fe5b0682036170800190508085106118b45762093a80015b949350505050565b6000806118cc60208a018a612cfd565b905060006001600160a01b0382166311547054896118f060408e0160208f01612cfd565b8a8a8a8a6040518763ffffffff1660e01b81526004016119159695949392919061337e565b60206040518083038186803b15801561192d57600080fd5b505afa158015611941573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906119659190612d19565b90506001600160a01b0381161561197f579150611a459050565b6000826001600160a01b031663c09746308a8d60200160208101906119a49190612cfd565b8b8b8b8b6040518763ffffffff1660e01b81526004016119c99695949392919061337e565b602060405180830381600087803b1580156119e357600080fd5b505af11580156119f7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a1b9190612d19565b9050611a40818b8a8e6020016020810190611a369190612cfd565b8f6060013561240f565b925050505b979650505050505050565b6000808490506000849050806001600160a01b031663fc3d42e8836001600160a01b031663c52987cf6040518163ffffffff1660e01b815260040160206040518083038186803b158015611aa357600080fd5b505afa158015611ab7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611adb9190613143565b846001600160a01b031663ade6e2aa6040518163ffffffff1660e01b815260040160206040518083038186803b158015611b1457600080fd5b505afa158015611b28573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b4c9190613143565b856001600160a01b031663f3c274a66040518163ffffffff1660e01b815260040160206040518083038186803b158015611b8557600080fd5b505afa158015611b99573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bbd9190612f44565b6040518463ffffffff1660e01b8152600401611bdb93929190613cc7565b60206040518083038186803b158015611bf357600080fd5b505afa158015611c07573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611c2b9190613143565b9250611c3d6103e861075f8587611e03565b92506001600160601b03831115611c665760405162461bcd60e51b815260040161045d90613876565b50509392505050565b6000611ca6611c84606086016040870161320e565b611c946040870160208801613262565b611ca16020880188613262565b612765565b60408051600180825281830190925291925060609190602080830190803683370190505090508181600081518110611cda57fe5b602002602001018181525050836001600160a01b0316637882deaf846001600160a01b031663432833a66040518163ffffffff1660e01b815260040160206040518083038186803b158015611d2e57600080fd5b505afa158015611d42573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611d669190613143565b836040518363ffffffff1660e01b8152600401611d84929190613c37565b6040805180830381600087803b158015611d9d57600080fd5b505af1158015611db1573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611dd591906131c4565b50505050505050565b6000828201838110156114085760405162461bcd60e51b815260040161045d90613680565b600082611e125750600061141a565b82820282848281611e1f57fe5b04146114085760405162461bcd60e51b815260040161045d906138e4565b6000808211611e5e5760405162461bcd60e51b815260040161045d9061371c565b818381611e6757fe5b049392505050565b600082821115611e915760405162461bcd60e51b815260040161045d906136e5565b50900390565b6001600160a01b03831673dac17f958d2ee523a2206206994597c13d831ec71415611ec857611ec88383600061279d565b6104c183838361279d565b60008080611eef61271061075f60a087013560c0880135611e03565b9250611f146060850135600a0a61075f6305f5e10061073f60e0890135838986611e03565b91506001600160601b03831115611f3d5760405162461bcd60e51b815260040161045d906137ea565b6001600160601b03821115611f645760405162461bcd60e51b815260040161045d9061363d565b611f98611f776040860160208701612cfd565b84611f886060880160408901612cfd565b6001600160a01b0316919061279d565b6040805160018082528183019092526060916020808301908036833750506040805160018082528183019092529293506060929150602080830190803683375050604080516001808252818301909252929350606092915060208083019080368337019050509050848360008151811061200e57fe5b60200260200101906001600160601b031690816001600160601b031681525050858260008151811061203c57fe5b60200260200101906001600160601b031690816001600160601b031681525050600160001b8160008151811061206e57fe5b60200260200101818152505086602001602081019061208d9190612cfd565b6001600160a01b031663d225269c88608001358585856040518563ffffffff1660e01b81526004016120c29493929190613c50565b602060405180830381600087803b1580156120dc57600080fd5b505af11580156120f0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612114919061322a565b93507fa227b5eceb2bd983c0ed9dd34c971be74cd4f386b289d4415602a1fbcf2cb53b608088013561214960208a018a612cfd565b888861215d6101208d016101008e01612cfd565b60405161216e959493929190613c0b565b60405180910390a15050509193909250565b600080841161218f57816118b4565b6118b48461075f8486611e03565b6000806121b56121b06020850185612cfd565b612897565b905061225f6121ca6040850160208601612cfd565b6121d76020860186612cfd565b6001600160a01b03166370a08231306040518263ffffffff1660e01b81526004016122029190613350565b60206040518083038186803b15801561221a57600080fd5b505afa15801561222e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906122529190613143565b611f886020870187612cfd565b600061229261227360126060870135611e6f565b600a0a61075f612288856402540be400611e03565b876080013561293f565b90506001600160601b038111156122bb5760405162461bcd60e51b815260040161045d90613b0a565b6122cb6040850160208601612cfd565b6001600160a01b0316630a4cd6c96122e66020870187612cfd565b6122f66060880160408901612cfd565b61230f61230860a08a01356002611e3d565b4290611dde565b61231d4260a08b0135611dde565b878760016000806000604051806020016040528060008152506040518c63ffffffff1660e01b815260040161235c9b9a999897969594939291906133e2565b602060405180830381600087803b15801561237657600080fd5b505af115801561238a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906123ae9190613143565b92507f95ad3b10488285d6307fda297f633faaf2a0d713c08ebe5f49c1b9255b01d29e6123de6020860186612cfd565b6123ee6060870160408801612cfd565b853360405161240094939291906133b7565b60405180910390a15050919050565b6001600160a01b0385166124355760405162461bcd60e51b815260040161045d906139c8565b846124436020860186612f28565b1515816001600160a01b031663f3c274a66040518163ffffffff1660e01b815260040160206040518083038186803b15801561247e57600080fd5b505afa158015612492573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906124b69190612f44565b1515146124d55760405162461bcd60e51b815260040161045d9061384f565b6124e56080860160608701612cfd565b6001600160a01b0316816001600160a01b0316637158da7c6040518163ffffffff1660e01b815260040160206040518083038186803b15801561252757600080fd5b505afa15801561253b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061255f9190612d19565b6001600160a01b0316146125855760405162461bcd60e51b815260040161045d90613753565b836001600160a01b0316816001600160a01b031663aabaecd66040518163ffffffff1660e01b815260040160206040518083038186803b1580156125c857600080fd5b505afa1580156125dc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906126009190612d19565b6001600160a01b0316146126265760405162461bcd60e51b815260040161045d90613adb565b826001600160a01b0316816001600160a01b03166317d69bc86040518163ffffffff1660e01b815260040160206040518083038186803b15801561266957600080fd5b505afa15801561267d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906126a19190612d19565b6001600160a01b0316146126c75760405162461bcd60e51b815260040161045d906135b5565b60006126d34284611dde565b905080826001600160a01b031663ade6e2aa6040518163ffffffff1660e01b815260040160206040518083038186803b15801561270f57600080fd5b505afa158015612723573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906127479190613143565b1015611dd55760405162461bcd60e51b815260040161045d906135e2565b6001600160c01b031960c084901b166bffffffffffffffffffffffff60601b606084901b16016001600160601b038216019392505050565b8015806128255750604051636eb1769f60e11b81526001600160a01b0384169063dd62ed3e906127d39030908690600401613364565b60206040518083038186803b1580156127eb57600080fd5b505afa1580156127ff573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906128239190613143565b155b6128415760405162461bcd60e51b815260040161045d90613b8c565b6104c18363095ea7b360e01b8484604051602401612860929190613467565b60408051601f198184030181529190526020810180516001600160e01b03166001600160e01b03199093169290921790915261296c565b6040516370a0823160e01b81526000906001600160a01b038316906370a08231906128c6903090600401613350565b60206040518083038186803b1580156128de57600080fd5b505afa1580156128f2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906129169190613143565b90506001600160601b038111156110c65760405162461bcd60e51b815260040161045d90613782565b6000670de0b6b3a764000061296561295785856129fb565b6706f05b59d3b20000612a32565b81611e6757fe5b60606129c1826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b0316612a559092919063ffffffff16565b8051909150156104c157808060200190518101906129df9190612f44565b6104c15760405162461bcd60e51b815260040161045d90613a91565b6000811580612a1657505080820282828281612a1357fe5b04145b61141a5760405162461bcd60e51b815260040161045d9061360f565b8082018281101561141a5760405162461bcd60e51b815260040161045d906136b7565b60606118b4848460008585612a6985612af4565b612a855760405162461bcd60e51b815260040161045d90613a12565b60006060866001600160a01b03168587604051612aa29190613334565b60006040518083038185875af1925050503d8060008114612adf576040519150601f19603f3d011682016040523d82523d6000602084013e612ae4565b606091505b5091509150611a45828286612afa565b3b151590565b60608315612b09575081611408565b825115612b195782518084602001fd5b8160405162461bcd60e51b815260040161045d919061357c565b604080516101008101909152806000815260200160006001600160a01b0316815260200160006001600160a01b0316815260200160006001600160a01b03168152602001600081526020016000815260200160008152602001606081525090565b6040518060c001604052806060815260200160608152602001606081526020016060815260200160608152602001606081525090565b600082601f830112612bda578081fd5b8151612bed612be882613d39565b613d15565b818152915060208083019084810181840286018201871015612c0e57600080fd5b60005b84811015612c36578151612c2481613d87565b84529282019290820190600101612c11565b505050505092915050565b600082601f830112612c51578081fd5b8151612c5f612be882613d39565b818152915060208083019084810181840286018201871015612c8057600080fd5b60005b84811015612c3657815184529282019290820190600101612c83565b60008083601f840112612cb0578182fd5b50813567ffffffffffffffff811115612cc7578182fd5b602083019150836020828501011115612cdf57600080fd5b9250929050565b600060c08284031215612cf7578081fd5b50919050565b600060208284031215612d0e578081fd5b813561140881613d87565b600060208284031215612d2a578081fd5b815161140881613d87565b600080600060608486031215612d49578182fd5b8335612d5481613d87565b92506020840135612d6481613d87565b91506040840135612d7481613d87565b809150509250925092565b60008060008060808587031215612d94578081fd5b8435612d9f81613d87565b93506020850135612daf81613d87565b92506040850135612dbf81613d87565b9396929550929360600135925050565b60008060008060008060008060006101808a8c031215612ded578687fd5b8935612df881613d87565b985060208a0135612e0881613d87565b975060408a0135612e1881613d87565b965060608a0135955060808a013567ffffffffffffffff80821115612e3b578687fd5b612e478d838e01612c9f565b909750955060a08c0135915080821115612e5f578485fd5b50612e6c8c828d01612c9f565b9094509250612e8090508b60c08c01612ce6565b90509295985092959850929598565b6000806000806000806102008789031215612ea8578384fd5b8635612eb381613d87565b95506020870135612ec381613d87565b945060408701359350612ed98860608901612ce6565b9250612ee9886101208901612ce6565b91506101e087013590509295509295509295565b60008060408385031215612f0f578182fd5b8235612f1a81613d87565b946020939093013593505050565b600060208284031215612f39578081fd5b813561140881613d9f565b600060208284031215612f55578081fd5b815161140881613d9f565b600060c08284031215612f71578081fd5b6114088383612ce6565b600080600083850360a0811215612f90578182fd5b6060811215612f9d578182fd5b508392506060840135612faf81613d87565b91506080840135612d7481613d87565b60006101208284031215612cf7578081fd5b60008060008060808587031215612fe6578182fd5b5050823594602084013594506040840135936060013592509050565b600060208284031215613013578081fd5b815167ffffffffffffffff8082111561302a578283fd5b9083019060c0828603121561303d578283fd5b61304760c0613d15565b825182811115613055578485fd5b61306187828601612bca565b825250602083015182811115613075578485fd5b61308187828601612bca565b602083015250604083015182811115613098578485fd5b6130a487828601612bca565b6040830152506060830151828111156130bb578485fd5b6130c787828601612c41565b6060830152506080830151828111156130de578485fd5b6130ea87828601612c41565b60808301525060a083015182811115613101578485fd5b61310d87828601612c41565b60a08301525095945050505050565b60006020828403121561312d578081fd5b81356001600160681b0381168114611408578182fd5b600060208284031215613154578081fd5b5051919050565b600080600080600060a08688031215613172578283fd5b85359450602086013561318481613d87565b9350604086013561319481613dc3565b92506060860135915060808601356001600160801b03811681146131b6578182fd5b809150509295509295909350565b600080604083850312156131d6578182fd5b505080516020909101519092909150565b6000602082840312156131f8578081fd5b813566ffffffffffffff81168114611408578182fd5b60006020828403121561321f578081fd5b813561140881613dad565b60006020828403121561323b578081fd5b815161140881613dad565b600060208284031215613257578081fd5b815161140881613dc3565b600060208284031215613273578081fd5b81356001600160601b0381168114611408578182fd5b6001600160a01b03169052565b6000815180845260208085019450808401835b838110156132c5578151875295820195908201906001016132a9565b509495945050505050565b6000815180845260208085019450808401835b838110156132c55781516001600160601b0316875295820195908201906001016132e3565b60008151808452613320816020860160208601613d57565b601f01601f19169290920160200192915050565b60008251613346818460208701613d57565b9190910192915050565b6001600160a01b0391909116815260200190565b6001600160a01b0392831681529116602082015260400190565b6001600160a01b03968716815294861660208601529290941660408401526060830152608082019290925290151560a082015260c00190565b6001600160a01b03948516815292841660208401526040830191909152909116606082015260800190565b6001600160a01b038c811682528b81166020830152604082018b9052606082018a90526001600160601b038981166080840152881660a083015260c0820187905260e082018690528415156101008301528316610120820152610160610140820181905260009061345583820185613308565b9e9d5050505050505050505050505050565b6001600160a01b03929092168252602082015260400190565b6001600160a01b0394909416845260208401929092526040830152606082015260800190565b60208082528251828201819052600091906040908185019080840286018301878501865b8381101561356e57603f1989840301855281516101008151600a81106134ec57fe5b8552818901516134fe8a870182613289565b508782015161350f89870182613289565b5060608083015161352282880182613289565b50506080828101519086015260a0808301519086015260c0808301519086015260e09182015191850181905261355a81860183613308565b9689019694505050908601906001016134ca565b509098975050505050505050565b6000602082526114086020830184613308565b6020808252600c908201526b085d1bdad95b94de5b589bdb60a21b604082015260600190565b602080825260139082015272737472696b65417373657420213d205553444360681b604082015260600190565b602080825260139082015272457870697279206265666f72652064656c617960681b604082015260600190565b60208082526014908201527364732d6d6174682d6d756c2d6f766572666c6f7760601b604082015260600190565b60208082526023908201527f627579416d6f756e74203e20747970652875696e74393629206d61782076616c60408201526275652160e81b606082015260800190565b6020808252601b908201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604082015260600190565b60208082526014908201527364732d6d6174682d6164642d6f766572666c6f7760601b604082015260600190565b6020808252601e908201527f536166654d6174683a207375627472616374696f6e206f766572666c6f770000604082015260600190565b6020808252601a908201527f536166654d6174683a206469766973696f6e206279207a65726f000000000000604082015260600190565b60208082526015908201527415dc9bdb99c81d5b99195c9b1e5a5b99d05cdcd95d605a1b604082015260600190565b6020808252602a908201527f6f546f6b656e53656c6c416d6f756e74203e20747970652875696e74393629206040820152696d61782076616c75652160b01b606082015260800190565b6020808252600490820152630216361760e41b604082015260600190565b60208082526024908201527f73656c6c416d6f756e74203e20747970652875696e74393629206d61782076616040820152636c75652160e01b606082015260800190565b60208082526007908201526610b5b2b2b832b960c91b604082015260600190565b6020808252600d908201526c0a8f2e0ca40dad2e6dac2e8c6d609b1b604082015260600190565b60208082526027908201527f6f7074696f6e5072656d69756d203e20747970652875696e74393629206d61786040820152662076616c75652160c81b606082015260800190565b6020808252600d908201526c08599959549958da5c1a595b9d609a1b604082015260600190565b60208082526021908201527f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f6040820152607760f81b606082015260800190565b60208082526017908201527f496e76616c696420706572666f726d616e636520666565000000000000000000604082015260600190565b6020808252600a908201526921746f6b656e4e616d6560b01b604082015260600190565b602080825260089082015267217072656d69756d60c01b604082015260600190565b6020808252600c908201526b21737472696b65507269636560a01b604082015260600190565b6020808252600e908201526d216f746f6b656e4164647265737360901b604082015260600190565b602080825260089082015267139bc81cda1bdc9d60c21b604082015260600190565b6020808252601d908201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604082015260600190565b60208082526006908201526508585cdcd95d60d21b604082015260600190565b6020808252600e908201526d216d696e696d756d537570706c7960901b604082015260600190565b6020808252602a908201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6040820152691bdd081cdd58d8d9595960b21b606082015260800190565b60208082526015908201527415dc9bdb99c818dbdb1b185d195c985b105cdcd95d605a1b604082015260600190565b6020808252603a908201527f6f7074696f6e5072656d69756d202a206f546f6b656e53656c6c416d6f756e7460408201527f203e20747970652875696e74393629206d61782076616c756521000000000000606082015260800190565b6020808252600b908201526a21756e6465726c79696e6760a81b604082015260600190565b60208082526036908201527f5361666545524332303a20617070726f76652066726f6d206e6f6e2d7a65726f60408201527520746f206e6f6e2d7a65726f20616c6c6f77616e636560501b606082015260800190565b60208082526006908201526510b7bbb732b960d11b604082015260600190565b90815260200190565b9485526001600160a01b0393841660208601526040850192909252606084015216608082015260a00190565b6000838252604060208301526118b46040830184613296565b600085825260a06020830152613c6960a08301866132d0565b8281036040840152613c7b81866132d0565b90508281036060840152613c8f8185613296565b83810360809094019390935250506002815261060f60f31b6020820152604001949350505050565b9182521515602082015260400190565b92835260208301919091521515604082015260600190565b9283526020830191909152604082015260600190565b928352602083019190915267ffffffffffffffff16604082015260600190565b60405181810167ffffffffffffffff81118282101715613d3157fe5b604052919050565b600067ffffffffffffffff821115613d4d57fe5b5060209081020190565b60005b83811015613d72578181015183820152602001613d5a565b83811115613d81576000848401525b50505050565b6001600160a01b0381168114613d9c57600080fd5b50565b8015158114613d9c57600080fd5b67ffffffffffffffff81168114613d9c57600080fd5b60ff81168114613d9c57600080fdfea264697066735822122065d9b0ff2afe4d1f094ddbc15b91cbfa88bf4559f5d128914ed01ff08956682864736f6c63430007030033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "burnOtokens(address,uint256)": {
        "notice": "Burn the remaining oTokens left over from auction. Currently this implementation is simple. It burns oTokens from the most recent vault opened by the contract. This assumes that the contract will only have a single vault open at any given time."
      },
      "settleLong(address,address,address)": {
        "notice": "Exercises the ITM option using existing long otoken position. Currently this implementation is simple. It calls the `Redeem` action to claim the payout."
      },
      "settleShort(address)": {
        "notice": "Close the existing short otoken position. Currently this implementation is simple. It closes the most recent vault opened by the contract. This assumes that the contract will only have a single vault open at any given time. Since calling `closeShort` deletes vaults, this assumption should hold."
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [],
    "types": null
  }
}